{"version":3,"file":"static/js/367.bbc58596.chunk.js","mappings":"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","sources":["Components/Artifact/ArtifactAutocomplete.tsx","Components/Artifact/ArtifactFilterDisplay.tsx","Components/Artifact/ArtifactLevelSlider.tsx","Util/MultiSelect.ts"],"sourcesContent":["import { Autocomplete, AutocompleteProps, Chip, TextField, useTheme } from '@mui/material';\nimport { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ArtifactSheet } from '../../Data/Artifacts/ArtifactSheet';\nimport KeyMap from '../../KeyMap';\nimport usePromise from '../../ReactHooks/usePromise';\nimport { allMainStatKeys, allSubstatKeys, MainStatKey, SubstatKey } from '../../Types/artifact';\nimport { allArtifactSets, allElementsWithPhy, ArtifactSetKey } from '../../Types/consts';\nimport MenuItemWithImage from '../MenuItemWithImage';\nimport SolidColoredTextField from '../SolidColoredTextfield';\nimport StatIcon from '../StatIcon';\n\ntype ArtifactMultiAutocompleteKey = ArtifactSetKey | MainStatKey | SubstatKey\ntype ArtifactMultiAutocompleteOption<T extends ArtifactMultiAutocompleteKey> = {\n  key: T\n  label: string\n}\ntype ArtifactMultiAutocompleteProps<T extends ArtifactMultiAutocompleteKey> = Omit<AutocompleteProps<ArtifactMultiAutocompleteOption<T>, true, false, false>, \"title\" | \"children\" | \"onChange\" | \"options\" | \"renderInput\" | \"value\"> & {\n  allArtifactKeys: readonly T[]\n  selectedArtifactKeys: T[]\n  setArtifactKeys: (keys: T[]) => void\n  getName: (key: T) => string\n  getImage: (key: T) => JSX.Element\n  label: string\n}\nfunction ArtifactMultiAutocomplete<T extends ArtifactMultiAutocompleteKey>({ allArtifactKeys, selectedArtifactKeys, setArtifactKeys, getName, getImage, label, ...props }:\n  ArtifactMultiAutocompleteProps<T>) {\n  const theme = useTheme()\n\n  const handleChange = (_, value: ArtifactMultiAutocompleteOption<T>[]) => {\n    setArtifactKeys(value.map(v => v.key))\n  }\n  const options = useMemo(() => allArtifactKeys.map(key => ({ key: key, label: getName(key) })), [allArtifactKeys, getName])\n  return <Autocomplete\n    autoHighlight\n    multiple\n    disableCloseOnSelect\n    options={options}\n    value={selectedArtifactKeys.map(key => ({ key: key, label: getName(key) }))}\n    onChange={handleChange}\n    getOptionLabel={(option) => option.label}\n    isOptionEqualToValue={(option, value) => option.key === value.key}\n    renderInput={(params) => <TextField\n      {...params}\n      label={label}\n      variant=\"filled\"\n      InputLabelProps={{ style: { color: theme.palette.text.primary } }}\n      color={selectedArtifactKeys.length ? \"success\" : \"primary\"}\n      type=\"search\"\n    />}\n    renderOption={(props, option) => (\n      <MenuItemWithImage\n        key={option.key}\n        value={option.key}\n        image={getImage(option.key)}\n        text={option.label}\n        theme={theme}\n        isSelected={selectedArtifactKeys.includes(option.key)}\n        props={props}\n      />\n    )}\n    renderTags={(selected, getTagProps) => selected.map((value, index) => {\n      const element = allElementsWithPhy.find(ele => value.key === `${ele}_dmg_`)\n      const color = element ? element : undefined\n      return <Chip {...getTagProps({ index })} key={value.key} icon={getImage(value.key)} label={value.label} color={color} />\n    })}\n    {...props}\n  />\n}\n\ntype ArtifactSetMultiAutocompleteProps = Omit<AutocompleteProps<ArtifactMultiAutocompleteOption<ArtifactSetKey>, true, false, false>, \"title\" | \"children\" | \"onChange\" | \"options\" | \"renderInput\" | \"value\"> & {\n  artSetKeys: ArtifactSetKey[]\n  setArtSetKeys: (keys: ArtifactSetKey[]) => void\n}\nexport function ArtifactSetMultiAutocomplete({ artSetKeys, setArtSetKeys, ...props }: ArtifactSetMultiAutocompleteProps) {\n  const artifactSheets = usePromise(ArtifactSheet.getAll, [])\n  const { t } = useTranslation(\"artifact\")\n  if (!artifactSheets) return null\n  return <ArtifactMultiAutocomplete<ArtifactSetKey>\n    allArtifactKeys={allArtifactSets}\n    selectedArtifactKeys={artSetKeys}\n    setArtifactKeys={setArtSetKeys}\n    getName={(key: ArtifactSetKey) => artifactSheets[key].nameRaw}\n    getImage={(key: ArtifactSetKey) => artifactSheets[key].defIcon}\n    label={t(\"autocompleteLabels.set\")}\n    {...props}\n  />\n}\n\ntype ArtifactMainStatMultiAutocompleteProps = Omit<AutocompleteProps<ArtifactMultiAutocompleteOption<MainStatKey>, true, false, false>, \"title\" | \"children\" | \"onChange\" | \"options\" | \"renderInput\" | \"value\"> & {\n  mainStatKeys: MainStatKey[]\n  setMainStatKeys: (keys: MainStatKey[]) => void\n}\nexport function ArtifactMainStatMultiAutocomplete({ mainStatKeys, setMainStatKeys, ...props }: ArtifactMainStatMultiAutocompleteProps) {\n  const { t } = useTranslation(\"artifact\")\n  return <ArtifactMultiAutocomplete<MainStatKey>\n    allArtifactKeys={allMainStatKeys}\n    selectedArtifactKeys={mainStatKeys}\n    setArtifactKeys={setMainStatKeys}\n    getName={(key: MainStatKey) => KeyMap.getArtStr(key)}\n    getImage={(key: MainStatKey) => StatIcon[key]}\n    label={t(\"autocompleteLabels.mainStat\")}\n    {...props}\n  />\n}\n\ntype ArtifactSubstatMultiAutocompleteProps = Omit<AutocompleteProps<ArtifactMultiAutocompleteOption<SubstatKey>, true, false, false>, \"title\" | \"children\" | \"onChange\" | \"options\" | \"renderInput\" | \"value\"> & {\n  substatKeys: SubstatKey[]\n  setSubstatKeys: (keys: SubstatKey[]) => void\n}\nexport function ArtifactSubstatMultiAutocomplete({ substatKeys, setSubstatKeys, ...props }: ArtifactSubstatMultiAutocompleteProps) {\n  const { t } = useTranslation(\"artifact\")\n  return <ArtifactMultiAutocomplete<SubstatKey>\n    allArtifactKeys={allSubstatKeys}\n    selectedArtifactKeys={substatKeys}\n    setArtifactKeys={setSubstatKeys}\n    getName={(key: SubstatKey) => KeyMap.getArtStr(key)}\n    getImage={(key: SubstatKey) => StatIcon[key]}\n    label={t(\"autocompleteLabels.substat\")}\n    {...props}\n  />\n}\n\ntype ArtifactSingleAutocompleteKey = (ArtifactSetKey | \"\") | (MainStatKey | \"\") | (SubstatKey | \"\")\ntype ArtifactSingleAutocompleteOption<T extends ArtifactSingleAutocompleteKey> = {\n  key: T\n  label: string\n}\ntype ArtifactSingleAutocompleteProps<T extends ArtifactSingleAutocompleteKey> = Omit<AutocompleteProps<ArtifactSingleAutocompleteOption<T>, false, true, false>, \"title\" | \"children\" | \"onChange\" | \"options\" | \"renderInput\" | \"value\"> & {\n  allArtifactKeys: readonly T[]\n  selectedArtifactKey: T\n  setArtifactKey: (key: T | \"\") => void\n  getName: (key: T) => string\n  getImage: (key: T) => JSX.Element\n  label: string\n  disable?: (v: any) => boolean\n  showDefault?: boolean\n  defaultText?: string\n  defaultIcon?: Displayable\n  flattenCorners?: boolean\n}\nfunction ArtifactSingleAutocomplete<T extends ArtifactSingleAutocompleteKey>({ allArtifactKeys, selectedArtifactKey, setArtifactKey, getName, getImage, label, disable= () => false, showDefault = false, defaultText = \"\", defaultIcon = \"\", flattenCorners = false, ...props }:\n  ArtifactSingleAutocompleteProps<T>) {\n  const theme = useTheme();\n\n  const options = useMemo(() =>\n    (showDefault\n      ? [{ key: \"\" as T, label: defaultText }]\n      : []\n    ).concat(allArtifactKeys.map(key => (\n      { key: key, label: getName(key) }\n    ))), [allArtifactKeys, getName, defaultText, showDefault])\n  return <Autocomplete\n    autoHighlight\n    options={options}\n    clearIcon={selectedArtifactKey ? undefined : \"\"} // Hide the clear icon if the value is already default\n    value={{ key: selectedArtifactKey, label: getName(selectedArtifactKey) }}\n    onChange={(event, newValue, reason) => (event.type !== \"change\" || reason !== \"clear\") && setArtifactKey(newValue ? newValue.key : \"\")}\n    getOptionLabel={(option) => option.label ? option.label : defaultText}\n    isOptionEqualToValue={(option, value) => option.key === value.key}\n    getOptionDisabled={option => option.key ? disable(option.key) : false}\n    renderInput={(props) => <SolidColoredTextField\n      {...props}\n      label={label}\n      startAdornment={getImage(selectedArtifactKey)}\n      hasValue={selectedArtifactKey ? true : false}\n      flattenCorners={flattenCorners}\n    />}\n    renderOption={(props, option) => (\n      <MenuItemWithImage\n        key={option.key}\n        value={option.key}\n        image={getImage(option.key)}\n        text={option.label}\n        theme={theme}\n        isSelected={selectedArtifactKey === option.key}\n        props={props}\n      />\n    )}\n    {...props}\n  />\n}\n\ntype ArtifactSetSingleAutocompleteProps = Omit<AutocompleteProps<ArtifactSingleAutocompleteOption<ArtifactSetKey | \"\">, false, true, false>, \"title\" | \"children\" | \"onChange\" | \"options\" | \"renderInput\" | \"value\"> & {\n  allArtSetKeys?: readonly ArtifactSetKey[]\n  artSetKey: ArtifactSetKey | \"\"\n  setArtSetKey: (key: ArtifactSetKey | \"\") => void\n  label?: string\n  disable?: (v: any) => boolean\n  showDefault?: boolean\n  defaultText?: string\n  defaultIcon?: Displayable\n  flattenCorners?: boolean\n}\nexport function ArtifactSetSingleAutocomplete({ allArtSetKeys = allArtifactSets, artSetKey, setArtSetKey, label = \"\", flattenCorners, ...props }: ArtifactSetSingleAutocompleteProps) {\n  const artifactSheets = usePromise(ArtifactSheet.getAll, [])\n  const { t } = useTranslation(\"artifact\")\n  label = label ? label : t(\"autocompleteLabels.set\")\n  if (!artifactSheets) return null\n  return <ArtifactSingleAutocomplete<ArtifactSetKey | \"\">\n    allArtifactKeys={allArtSetKeys}\n    selectedArtifactKey={artSetKey}\n    setArtifactKey={setArtSetKey}\n    getName={(key: ArtifactSetKey | \"\") => key && artifactSheets[key].nameRaw}\n    getImage={(key: ArtifactSetKey | \"\") => key ? artifactSheets[key].defIcon : <></>}\n    label={label}\n    flattenCorners={flattenCorners}\n    {...props}\n  />\n}\n","import { faBan, faChartLine } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Lock, LockOpen } from '@mui/icons-material';\nimport { Box, Grid, ToggleButton } from \"@mui/material\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { FilterOption } from \"../../PageArtifact/ArtifactSort\";\nimport { allArtifactRarities, allSlotKeys } from \"../../Types/consts\";\nimport { handleMultiSelect } from \"../../Util/MultiSelect\";\nimport CharacterAutocomplete from \"../Character/CharacterAutocomplete\";\nimport SolidToggleButtonGroup from \"../SolidToggleButtonGroup\";\nimport { Stars } from \"../StarDisplay\";\nimport { ArtifactMainStatMultiAutocomplete, ArtifactSetMultiAutocomplete, ArtifactSubstatMultiAutocomplete } from \"./ArtifactAutocomplete\";\nimport ArtifactLevelSlider from \"./ArtifactLevelSlider\";\nimport { artifactSlotIcon } from \"./SlotNameWIthIcon\";\n\nconst exclusionValues = [\"excluded\", \"included\"] as const\nconst lockedValues = [\"locked\", \"unlocked\"] as const\n\nconst rarityHandler = handleMultiSelect([...allArtifactRarities])\nconst slotHandler = handleMultiSelect([...allSlotKeys])\nconst exclusionHandler = handleMultiSelect([...exclusionValues])\nconst lockedHandler = handleMultiSelect([...lockedValues])\n\nexport default function ArtifactFilterDisplay({ filterOption, filterOptionDispatch, }: { filterOption: FilterOption, filterOptionDispatch: (any) => void }) {\n  const { t } = useTranslation([\"artifact\", \"ui\"]);\n\n  const { artSetKeys = [], mainStatKeys = [], rarity = [], slotKeys = [], levelLow, levelHigh, substats = [],\n    location = \"\", exclusion = [...exclusionValues], locked = [...lockedValues] } = filterOption\n\n  return <Grid container spacing={1}>\n    {/* left */}\n    <Grid item xs={12} md={6} display=\"flex\" flexDirection=\"column\" gap={1}>\n      {/* Artifact stars filter */}\n      <SolidToggleButtonGroup fullWidth value={rarity} size=\"small\" >\n        {allArtifactRarities.map(star => <ToggleButton key={star} value={star} onClick={() => filterOptionDispatch({ rarity: rarityHandler(rarity, star) })}><Stars stars={star} /></ToggleButton>)}\n      </SolidToggleButtonGroup>\n      {/* Artifact Slot */}\n      <SolidToggleButtonGroup fullWidth value={slotKeys} size=\"small\">\n        {allSlotKeys.map(slotKey => <ToggleButton key={slotKey} value={slotKey} onClick={() => filterOptionDispatch({ slotKeys: slotHandler(slotKeys, slotKey) })}>{artifactSlotIcon(slotKey)}</ToggleButton>)}\n      </SolidToggleButtonGroup>\n      {/* exclusion + locked */}\n      <Box display=\"flex\" gap={1}>\n        <SolidToggleButtonGroup fullWidth value={exclusion} size=\"small\">\n          {exclusionValues.map((v, i) => <ToggleButton value={v} sx={{ display: \"flex\", gap: 1 }} onClick={() => filterOptionDispatch({ exclusion: exclusionHandler(exclusion, v) })}>\n            <FontAwesomeIcon icon={i ? faChartLine : faBan} /><Trans i18nKey={`exclusion.${v}`} t={t} />\n          </ToggleButton>)}\n        </SolidToggleButtonGroup>\n        <SolidToggleButtonGroup fullWidth value={locked} size=\"small\">\n          {lockedValues.map((v, i) => <ToggleButton value={v} sx={{ display: \"flex\", gap: 1 }} onClick={() => filterOptionDispatch({ locked: lockedHandler(locked, v) })}>\n            {i ? <LockOpen /> : <Lock />}<Trans i18nKey={`ui:${v}`} t={t} />\n          </ToggleButton>)}\n        </SolidToggleButtonGroup>\n      </Box>\n      {/* Artiface level filter */}\n      <ArtifactLevelSlider showLevelText levelLow={levelLow} levelHigh={levelHigh}\n        setLow={levelLow => filterOptionDispatch({ levelLow })}\n        setHigh={levelHigh => filterOptionDispatch({ levelHigh })}\n        setBoth={(levelLow, levelHigh) => filterOptionDispatch({ levelLow, levelHigh })} />\n      <Grid container display=\"flex\" gap={1}>\n        <Grid item flexGrow={1}>\n          {/* location */}\n          <CharacterAutocomplete\n            value={location}\n            onChange={location => filterOptionDispatch({ location })}\n            placeholderText={t(\"artifact:filterLocation.any\")}\n            defaultText={t(\"artifact:filterLocation.any\")}\n            labelText={t(\"artifact:filterLocation.location\")}\n            showDefault\n            showInventory\n            showEquipped\n          />\n        </Grid>\n      </Grid>\n    </Grid>\n    {/* right */}\n    <Grid item xs={12} md={6} display=\"flex\" flexDirection=\"column\" gap={1}>\n      {/* Artifact Set */}\n      <ArtifactSetMultiAutocomplete artSetKeys={artSetKeys} setArtSetKeys={artSetKeys => filterOptionDispatch({ artSetKeys })} />\n      <ArtifactMainStatMultiAutocomplete mainStatKeys={mainStatKeys} setMainStatKeys={mainStatKeys => filterOptionDispatch({ mainStatKeys })} />\n      <ArtifactSubstatMultiAutocomplete substatKeys={substats} setSubstatKeys={substats => filterOptionDispatch({ substats })} />\n    </Grid>\n  </Grid>\n}\n","import { Card, Slider } from \"@mui/material\"\nimport { useCallback, useEffect, useState } from \"react\"\nimport { clamp } from \"../../Util/Util\"\nimport CustomNumberInput from \"../CustomNumberInput\"\n\nexport default function ArtifactLevelSlider({ levelLow, levelHigh, setLow, setHigh, setBoth, dark = false, disabled = false, showLevelText = false }: {\n  levelLow: number,\n  levelHigh: number,\n  setLow: (low: number) => void,\n  setHigh: (high: number) => void,\n  setBoth: (low: number, high: number) => void,\n  dark?: boolean,\n  disabled?: boolean,\n  showLevelText?: boolean,\n}) {\n  const [sliderLow, setsliderLow] = useState(levelLow)\n  const [sliderHigh, setsliderHigh] = useState(levelHigh)\n  const setSlider = useCallback(\n    (e: unknown, value: number | number[]) => {\n      if (typeof value == \"number\") throw new TypeError()\n      const [l, h] = value\n      setsliderLow(l)\n      setsliderHigh(h)\n    },\n    [setsliderLow, setsliderHigh])\n  useEffect(() => setsliderLow(levelLow), [setsliderLow, levelLow])\n\n  useEffect(() => setsliderHigh(levelHigh), [setsliderHigh, levelHigh])\n  return <Card sx={{ width: \"100%\", display: \"flex\", alignItems: \"center\", bgcolor: dark ? \"contentDark.main\" : \"contentLight.main\" }}>\n    <CustomNumberInput\n      value={sliderLow}\n      onChange={val => setLow(clamp(val, 0, levelHigh))}\n      sx={{ px: 1, pl: showLevelText ? 2 : undefined, width: showLevelText ? 100 : 50, }}\n      inputProps={{ sx: { textAlign: \"center\" } }}\n      startAdornment={showLevelText ? \"Level: \" : undefined}\n      disabled={disabled}\n    />\n    <Slider sx={{ width: 100, flexGrow: 1, mx: 2 }}\n      getAriaLabel={() => 'Arifact Level Range'}\n      value={[sliderLow, sliderHigh]}\n      onChange={setSlider}\n      onChangeCommitted={(e, value) => setBoth(value[0], value[1])}\n      valueLabelDisplay=\"auto\"\n      min={0} max={20} step={1} marks\n      disabled={disabled}\n    />\n    <CustomNumberInput\n      value={sliderHigh}\n      onChange={val => setHigh(clamp(val, levelLow, 20))}\n      sx={{ px: 1, width: 50, }}\n      inputProps={{ sx: { textAlign: \"center\" } }}\n      disabled={disabled}\n    />\n  </Card>\n}\n","import { toggleArr } from \"./Util\"\n\nexport function handleMultiSelect<T>(allKeys: T[]) {\n  return (arr: T[], v: T): T[] => {\n    const len = arr.length\n    if (len === allKeys.length) return [v]\n    if (len === 1 && arr[0] === v) return [...allKeys]\n    return [...new Set(toggleArr(arr, v))]\n  }\n}\n"],"names":["ArtifactMultiAutocomplete","allArtifactKeys","selectedArtifactKeys","setArtifactKeys","getName","getImage","label","props","theme","useTheme","options","useMemo","map","key","autoHighlight","multiple","disableCloseOnSelect","value","onChange","_","v","getOptionLabel","option","isOptionEqualToValue","renderInput","params","variant","InputLabelProps","style","color","palette","text","primary","length","type","renderOption","image","isSelected","includes","renderTags","selected","getTagProps","index","element","allElementsWithPhy","ele","undefined","icon","ArtifactSetMultiAutocomplete","artSetKeys","setArtSetKeys","artifactSheets","usePromise","ArtifactSheet","t","useTranslation","allArtifactSets","nameRaw","defIcon","ArtifactMainStatMultiAutocomplete","mainStatKeys","setMainStatKeys","allMainStatKeys","KeyMap","StatIcon","ArtifactSubstatMultiAutocomplete","substatKeys","setSubstatKeys","allSubstatKeys","ArtifactSingleAutocomplete","selectedArtifactKey","setArtifactKey","disable","showDefault","defaultText","defaultIcon","flattenCorners","concat","clearIcon","event","newValue","reason","getOptionDisabled","startAdornment","hasValue","ArtifactSetSingleAutocomplete","allArtSetKeys","artSetKey","setArtSetKey","exclusionValues","lockedValues","rarityHandler","handleMultiSelect","allArtifactRarities","slotHandler","allSlotKeys","exclusionHandler","lockedHandler","ArtifactFilterDisplay","filterOption","filterOptionDispatch","rarity","slotKeys","levelLow","levelHigh","substats","location","exclusion","locked","container","spacing","item","xs","md","display","flexDirection","gap","fullWidth","size","star","onClick","stars","slotKey","artifactSlotIcon","i","sx","faChartLine","faBan","i18nKey","showLevelText","setLow","setHigh","setBoth","flexGrow","placeholderText","labelText","showInventory","showEquipped","ArtifactLevelSlider","dark","disabled","useState","sliderLow","setsliderLow","sliderHigh","setsliderHigh","setSlider","useCallback","e","TypeError","l","h","useEffect","width","alignItems","bgcolor","val","clamp","px","pl","inputProps","textAlign","mx","getAriaLabel","onChangeCommitted","valueLabelDisplay","min","max","step","marks","allKeys","arr","len","Set","toggleArr"],"sourceRoot":""}