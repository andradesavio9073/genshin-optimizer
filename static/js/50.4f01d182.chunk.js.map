{"version":3,"file":"static/js/50.4f01d182.chunk.js","mappings":"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","sources":["Components/Artifact/SubstatToggle.tsx","Components/CustomNumberInput.tsx","Components/InfoTooltip.tsx","Components/PercentBadge.tsx","Components/StatFilterCard.tsx","PageArtifact/ArtifactCard.tsx","PageArtifact/ArtifactSort.ts","PageArtifact/RollProbability.ts","PageCharacter/CharacterDisplay/Tabs/TabOptimize/useBuildSetting.ts","ReactHooks/useArtifact.tsx"],"sourcesContent":["import { Box, Grid, ToggleButton } from \"@mui/material\"\nimport KeyMap from \"../../KeyMap\"\nimport { allSubstatKeys } from \"../../Types/artifact\"\nimport SolidToggleButtonGroup from \"../SolidToggleButtonGroup\"\nimport StatIcon from \"../StatIcon\"\n\nexport default function SubstatToggle({ selectedKeys, onChange }) {\n  const keys1 = allSubstatKeys.slice(0, 6)\n  const keys2 = allSubstatKeys.slice(6)\n  const selKeys1 = selectedKeys.filter(k => keys1.includes(k))\n  const selKeys2 = selectedKeys.filter(k => keys2.includes(k))\n  return <Grid container spacing={1}>\n    <Grid item xs={12} md={6}>\n      <SolidToggleButtonGroup fullWidth value={selKeys1} onChange={(e, arr) => onChange([...selKeys2, ...arr])} sx={{ height: \"100%\" }}>\n        {keys1.map(key => <ToggleButton size=\"small\" key={key} value={key}>\n          <Box display=\"flex\" gap={1} alignItems=\"center\">\n            {StatIcon[key]}\n            {KeyMap.getArtStr(key)}\n          </Box>\n        </ToggleButton>)}\n      </SolidToggleButtonGroup>\n    </Grid>\n    <Grid item xs={12} md={6}>\n      <SolidToggleButtonGroup fullWidth value={selKeys2} onChange={(e, arr) => onChange([...selKeys1, ...arr])} sx={{ height: \"100%\" }}>\n        {keys2.map(key => <ToggleButton size=\"small\" key={key} value={key}>\n          <Box display=\"flex\" gap={1} alignItems=\"center\">\n            {StatIcon[key]}\n            {KeyMap.getArtStr(key)}\n          </Box>\n        </ToggleButton>)}\n      </SolidToggleButtonGroup>\n    </Grid>\n  </Grid>\n}\n","import { Button, ButtonProps, InputBase, InputProps, styled } from '@mui/material'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\ntype props = Omit<InputProps, \"onChange\"> & {\n  value?: number | undefined,\n  onChange: (newValue: number | undefined) => void,\n  disabled?: boolean\n  float?: boolean,\n  allowEmpty?: boolean,\n}\n\nexport const StyledInputBase = styled(InputBase)(({ theme }) => ({\n  backgroundColor: theme.palette.primary.main,\n  transition: \"all 0.5s ease\",\n  \"&:hover\": {\n    backgroundColor: theme.palette.primary.dark,\n  },\n  \"&.Mui-focused\": {\n    backgroundColor: theme.palette.primary.dark,\n  },\n  \"&.Mui-disabled\": {\n    backgroundColor: theme.palette.primary.dark,\n  },\n}))\n\nconst Wrapper = styled(Button)(({ theme }) => ({\n  backgroundColor: theme.palette.primary.main,\n  padding: 0,\n  overflow: \"hidden\",\n  \"div\": {\n    width: \"100%\",\n    height: \"100%\",\n  },\n}))\n\n// wrap the Input with this when using the input in a buttongroup\nexport function CustomNumberInputButtonGroupWrapper({ children, disableRipple, disableFocusRipple, disableTouchRipple, ...props }: ButtonProps) {\n  return <Wrapper disableRipple disableFocusRipple disableTouchRipple {...props}>{children}</Wrapper>\n}\n\nexport default function CustomNumberInput({ value = 0, onChange, disabled = false, float = false, ...props }: props) {\n  const [number, setNumber] = useState(value)\n  const [focused, setFocus] = useState(false)\n  const parseFunc = useMemo(() => float ? parseFloat : parseInt, [float],)\n  const onBlur = useCallback(\n    () => {\n      onChange(number)\n      setFocus(false)\n    },\n    [onChange, number, setFocus],\n  )\n  const onFocus = useCallback(\n    () => {\n      setFocus(true)\n    },\n    [setFocus],\n  )\n  useEffect(() => setNumber(value), [value, setNumber]) // update value on value change\n  const onInputChange = useCallback(e => setNumber(parseFunc(e.target.value) || 0), [setNumber, parseFunc],)\n  const onKeyDOwn = useCallback(e => e.key === \"Enter\" && onBlur(), [onBlur],)\n  return <StyledInputBase\n    value={(focused && !number) ? \"\" : number}\n    aria-label=\"custom-input\"\n    type=\"number\"\n    inputProps={{ step: float ? 0.1 : 1 }}\n    onChange={onInputChange}\n    onBlur={onBlur}\n    onFocus={onFocus}\n    disabled={disabled}\n    onKeyDown={onKeyDOwn}\n    {...props}\n  />\n}\n","\nimport { faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Box, TooltipProps } from \"@mui/material\";\nimport BootstrapTooltip from \"./BootstrapTooltip\";\n\ninterface ITooltipProps extends Omit<TooltipProps, \"children\"> {\n  className?: string,\n}\nconst InfoTooltip = ({ className, ...props }: ITooltipProps) =>\n  <BootstrapTooltip placement=\"top\" {...props} className={className}>\n    <Box component=\"span\" sx={{ cursor: \"help\" }}><FontAwesomeIcon icon={faInfoCircle} /></Box>\n  </BootstrapTooltip>\n\nexport default InfoTooltip\n","import SqBadge from './SqBadge';\nimport { clamp } from '../Util/Util';\n\nexport default function PercentBadge({ value, max = 1, valid }: {\n  valid?: boolean,\n  value: number | string,\n  max?: number\n}) {\n  let [badgeColor, text] = typeof value === 'number' ?\n    [`roll${clamp(Math.floor((value / max) * 10) - 4, 1, 6)}`, value.toFixed() + \"%\"] : [\"secondary\", value]\n  if (value > max) valid = false\n  if (!valid) badgeColor = \"error\"\n  return <SqBadge color={badgeColor} >{text}</SqBadge>\n}\n","import { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Button, ButtonGroup, CardContent, MenuItem, Typography } from '@mui/material';\nimport { Box } from '@mui/system';\nimport React, { useCallback, useContext, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CharacterContext } from '../Context/CharacterContext';\nimport { DataContext } from '../Context/DataContext';\nimport { uiInput as input } from '../Formula';\nimport KeyMap, { StatColoredWithUnit, StatKey } from '../KeyMap';\nimport useBuildSetting from '../PageCharacter/CharacterDisplay/Tabs/TabOptimize/useBuildSetting';\nimport { ElementKey } from '../Types/consts';\nimport CardLight from './Card/CardLight';\nimport CustomNumberInput, { CustomNumberInputButtonGroupWrapper } from './CustomNumberInput';\nimport DropdownButton from './DropdownMenu/DropdownButton';\nimport InfoTooltip from './InfoTooltip';\nexport default function StatFilterCard({ disabled = false }: { disabled?: boolean }) {\n  const { t } = useTranslation(\"page_character\")\n  const { character: { key: characterKey } } = useContext(CharacterContext)\n  const { data } = useContext(DataContext)\n  const { buildSetting: { statFilters }, buildSettingDispatch } = useBuildSetting(characterKey)\n  const setStatFilters = useCallback((statFilters: Dict<StatKey, number>) => buildSettingDispatch({ statFilters }), [buildSettingDispatch],)\n\n  const statKeys = useMemo(() => {\n    const statKeys: StatKey[] = [\"atk\", \"hp\", \"def\", \"eleMas\", \"critRate_\", \"critDMG_\", \"heal_\", \"enerRech_\"]\n    if (data.get(input.weaponType).value !== \"catalyst\") statKeys.push(\"physical_dmg_\")\n    const charEle = data.get(input.charEle).value as ElementKey\n    statKeys.push(`${charEle}_dmg_`)\n    return statKeys\n  }, [data])\n\n  const remainingKeys = useMemo(() => statKeys.filter(key => !(Object.keys(statFilters) as any).some(k => k === key)), [statKeys, statFilters])\n  const setFilter = useCallback((sKey, min) => setStatFilters({ ...statFilters, [sKey]: min }), [statFilters, setStatFilters],)\n  return <Box>\n    <CardLight>\n      <CardContent sx={{ display: \"flex\", gap: 1, justifyContent: \"space-between\" }}>\n        <Typography>{t`tabOptimize.constraintFilter.title`}</Typography>\n        <InfoTooltip title={<Typography>{t`tabOptimize.constraintFilter.tooltip`}</Typography>} />\n      </CardContent>\n    </CardLight>\n    <Box display=\"flex\" flexDirection=\"column\" gap={0.5}>\n      {Object.entries(statFilters).map(([statKey, min]) => {\n        return <StatFilterItem key={statKey} statKey={statKey} statKeys={remainingKeys} setFilter={setFilter} disabled={disabled} value={min} close={() => {\n          const statFilters_ = { ...statFilters }\n          delete statFilters_[statKey]\n          setStatFilters({ ...statFilters_ })\n        }} />\n      })}\n      <StatFilterItem statKeys={remainingKeys} setFilter={setFilter} disabled={disabled} />\n    </Box>\n  </Box>\n}\n\nexport function StatFilterItem({ statKey, statKeys = [], value = 0, close, setFilter, disabled = false }: {\n  statKey?: StatKey, statKeys: StatKey[], value?: number, close?: () => void, setFilter: (statKey: string, value?: number) => void, disabled?: boolean\n}) {\n  const isFloat = KeyMap.unit(statKey) === \"%\"\n  const onChange = useCallback(s => statKey && setFilter(statKey, s), [setFilter, statKey])\n  return <ButtonGroup sx={{ width: \"100%\" }}>\n    <DropdownButton\n      title={statKey ? <StatColoredWithUnit statKey={statKey} /> : \"New Stat\"}\n      disabled={disabled}\n      color={statKey ? \"success\" : \"secondary\"}\n    >\n      {statKeys.map(sKey => <MenuItem key={sKey} onClick={() => { close?.(); setFilter(sKey, value) }}><StatColoredWithUnit statKey={sKey} /></MenuItem>)}\n    </DropdownButton>\n    <CustomNumberInputButtonGroupWrapper sx={{ flexBasis: 30, flexGrow: 1 }}>\n      <CustomNumberInput\n        disabled={!statKey || disabled}\n        float={isFloat}\n        value={value}\n        placeholder=\"Stat Value\"\n        onChange={onChange}\n        sx={{ px: 2, }}\n        inputProps={{ sx: { textAlign: \"right\" } }}\n        endAdornment={KeyMap.unit(statKey)}\n      />\n    </CustomNumberInputButtonGroupWrapper>\n    {!!close && <Button color=\"error\" onClick={close} disabled={disabled}><FontAwesomeIcon icon={faTrashAlt} /></Button>}\n  </ButtonGroup>\n}\n","import { faBan, faChartLine, faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { BusinessCenter, Lock, LockOpen } from '@mui/icons-material';\nimport { Box, Button, ButtonGroup, CardActionArea, CardContent, Chip, IconButton, Skeleton, Tooltip, Typography } from '@mui/material';\nimport React, { lazy, Suspense, useCallback, useContext, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport SlotNameWithIcon from '../Components/Artifact/SlotNameWIthIcon';\nimport CardLight from '../Components/Card/CardLight';\nimport CharacterAutocomplete from '../Components/Character/CharacterAutocomplete';\nimport LocationName from '../Components/Character/LocationName';\nimport ColorText from '../Components/ColoredText';\nimport ConditionalWrapper from '../Components/ConditionalWrapper';\nimport InfoTooltip from '../Components/InfoTooltip';\nimport SqBadge from '../Components/SqBadge';\nimport { Stars } from '../Components/StarDisplay';\nimport StatIcon from '../Components/StatIcon';\nimport Artifact from '../Data/Artifacts/Artifact';\nimport { ArtifactSheet } from '../Data/Artifacts/ArtifactSheet';\nimport { DatabaseContext } from '../Database/Database';\nimport KeyMap, { cacheValueString } from '../KeyMap';\nimport useArtifact from '../ReactHooks/useArtifact';\nimport usePromise from '../ReactHooks/usePromise';\nimport { allSubstatKeys, ICachedArtifact, ICachedSubstat, SubstatKey } from '../Types/artifact';\nimport { CharacterKey, Rarity } from '../Types/consts';\nimport { clamp, clamp01 } from '../Util/Util';\nimport PercentBadge from '../Components/PercentBadge';\n\nconst ArtifactEditor = lazy(() => import('./ArtifactEditor'))\n\ntype Data = {\n  artifactId?: string,\n  artifactObj?: ICachedArtifact,\n  onClick?: (id: string) => void,\n  onDelete?: (id: string) => void,\n  mainStatAssumptionLevel?: number,\n  effFilter?: Set<SubstatKey>,\n  editor?: boolean,\n  canExclude?: boolean\n  canEquip?: boolean,\n  extraButtons?: JSX.Element\n}\nconst allSubstatFilter = new Set(allSubstatKeys)\n\nexport default function ArtifactCard({ artifactId, artifactObj, onClick, onDelete, mainStatAssumptionLevel = 0, effFilter = allSubstatFilter, editor = false, canExclude = false, canEquip = false, extraButtons }: Data): JSX.Element | null {\n  const { t } = useTranslation([\"artifact\", \"ui\"]);\n  const { database } = useContext(DatabaseContext)\n  const databaseArtifact = useArtifact(artifactId)\n  const sheet = usePromise(() => ArtifactSheet.get((artifactObj ?? databaseArtifact)?.setKey), [artifactObj, databaseArtifact])\n  const equipOnChar = (charKey: CharacterKey | \"\") => database.arts.set(artifactId!, { location: charKey })\n  const editable = !artifactObj\n  const [showEditor, setshowEditor] = useState(false)\n  const onHideEditor = useCallback(() => setshowEditor(false), [setshowEditor])\n  const onShowEditor = useCallback(() => editable && setshowEditor(true), [editable, setshowEditor])\n\n  const wrapperFunc = useCallback(children => <CardActionArea onClick={() => artifactId && onClick?.(artifactId)} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }} >{children}</CardActionArea>, [onClick, artifactId],)\n  const falseWrapperFunc = useCallback(children => <Box sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }} >{children}</Box>, [])\n\n  const art = artifactObj ?? databaseArtifact\n\n  const { currentEfficiency, maxEfficiency, currentEfficiency_, maxEfficiency_ } = useMemo(() => {\n    if (!art) return { currentEfficiency: 0, maxEfficiency: 0, currentEfficiency_: 0, maxEfficiency_: 0 }\n    const { currentEfficiency, maxEfficiency } = Artifact.getArtifactEfficiency(art, effFilter)\n    const { currentEfficiency: currentEfficiency_, maxEfficiency: maxEfficiency_ } = Artifact.getArtifactEfficiency(art, new Set(allSubstatKeys))\n    return { currentEfficiency, maxEfficiency, currentEfficiency_, maxEfficiency_ }\n  }, [art, effFilter])\n\n\n  if (!art) return null\n\n  const { id, lock, slotKey, rarity, level, mainStatKey, substats, exclude, location = \"\" } = art\n  const mainStatLevel = Math.max(Math.min(mainStatAssumptionLevel, rarity * 4), level)\n  const mainStatUnit = KeyMap.unit(mainStatKey)\n  const levelVariant = \"roll\" + (Math.floor(Math.max(level, 0) / 4) + 1)\n\n  const artifactValid = maxEfficiency !== 0\n  const slotName = sheet?.getSlotName(slotKey)\n  const slotDesc = sheet?.getSlotDesc(slotKey)\n  const slotDescTooltip = slotDesc && <InfoTooltip title={<Box>\n    <Suspense fallback={<Skeleton variant=\"text\" width={100} />}><Typography variant='h6'>{slotName}</Typography></Suspense>\n    <Typography>{slotDesc}</Typography>\n  </Box>} />\n  const setEffects = sheet?.setEffects\n  const setDescTooltip = sheet && setEffects && <InfoTooltip title={\n    <span>\n      {Object.keys(setEffects).map(setNumKey => <span key={setNumKey}>\n        <Typography variant=\"h6\"><SqBadge color=\"success\">{t(`artifact:setEffectNum`, { setNum: setNumKey })}</SqBadge></Typography>\n        <Typography>{sheet.setEffectDesc(setNumKey as any)}</Typography>\n      </span>)}\n    </span>\n  } />\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 350 }} />}>\n    {editor && <Suspense fallback={false}>\n      <ArtifactEditor\n        artifactIdToEdit={showEditor ? artifactId : \"\"}\n        cancelEdit={onHideEditor}\n      />\n    </Suspense>}\n    <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\n      <ConditionalWrapper condition={!!onClick} wrapper={wrapperFunc} falseWrapper={falseWrapperFunc}>\n        <Box className={`grad-${rarity}star`} sx={{ position: \"relative\", width: \"100%\" }}>\n          {!onClick && <IconButton color=\"primary\" disabled={!editable} onClick={() => database.arts.set(id, { lock: !lock })} sx={{ position: \"absolute\", right: 0, bottom: 0, zIndex: 2 }}>\n            {lock ? <Lock /> : <LockOpen />}\n          </IconButton>}\n          <Box sx={{ pt: 2, px: 2, position: \"relative\", zIndex: 1 }}>\n            {/* header */}\n            <Box component=\"div\" sx={{ display: \"flex\", alignItems: \"center\", gap: 1, mb: 1 }}>\n              <Chip size=\"small\" label={<strong>{` +${level}`}</strong>} color={levelVariant as any} />\n              {!slotName && <Skeleton variant=\"text\" width={100} />}\n              {slotName && <Typography noWrap sx={{ textAlign: \"center\", backgroundColor: \"rgba(100,100,100,0.35)\", borderRadius: \"1em\", px: 1 }}><strong>{slotName}</strong></Typography>}\n              {!slotDescTooltip && <Skeleton width={10} />}\n              {slotDescTooltip}\n            </Box>\n            <Typography color=\"text.secondary\" variant=\"body2\">\n              <SlotNameWithIcon slotKey={slotKey} />\n            </Typography>\n            <Typography variant=\"h6\" color={`${KeyMap.getVariant(mainStatKey)}.main`}>\n              <span>{StatIcon[mainStatKey]} {KeyMap.get(mainStatKey)}</span>\n            </Typography>\n            <Typography variant=\"h5\">\n              <strong>\n                <ColorText color={mainStatLevel !== level ? \"warning\" : undefined}>{cacheValueString(Artifact.mainStatValue(mainStatKey, rarity, mainStatLevel) ?? 0, KeyMap.unit(mainStatKey))}{mainStatUnit}</ColorText>\n              </strong>\n            </Typography>\n            <Stars stars={rarity} colored />\n            {/* {process.env.NODE_ENV === \"development\" && <Typography color=\"common.black\">{id || `\"\"`} </Typography>} */}\n          </Box>\n          <Box sx={{ height: \"100%\", position: \"absolute\", right: 0, top: 0 }}>\n            <Box\n              component=\"img\"\n              src={sheet?.slotIcons[slotKey] ?? \"\"}\n              width=\"auto\"\n              height=\"100%\"\n              sx={{ float: \"right\" }}\n            />\n          </Box>\n        </Box>\n        <CardContent sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\", pt: 1, pb: 0, width: \"100%\" }}>\n          {substats.map((stat: ICachedSubstat) => !!stat.value && <SubstatDisplay key={stat.key} stat={stat} effFilter={effFilter} rarity={rarity} />)}\n          <Box sx={{ display: \"flex\", my: 1, gap: 1 }}>\n            <Typography color=\"text.secondary\" component=\"span\" variant=\"caption\" sx={{ flexGrow: 1 }}>{t`artifact:editor.curSubEff`}</Typography>\n            <PercentBadge value={currentEfficiency} max={900} valid={artifactValid} />\n            {currentEfficiency !== currentEfficiency_ && <Typography component=\"span\" variant=\"caption\" >/</Typography>}\n            {currentEfficiency !== currentEfficiency_ && <PercentBadge value={currentEfficiency_} max={900} valid={artifactValid} />}\n          </Box>\n          {currentEfficiency !== maxEfficiency && <Box sx={{ display: \"flex\", mb: 1, gap: 1 }}>\n            <Typography color=\"text.secondary\" component=\"span\" variant=\"caption\" sx={{ flexGrow: 1 }}>{t`artifact:editor.maxSubEff`}</Typography>\n            <PercentBadge value={maxEfficiency} max={900} valid={artifactValid} />\n            {maxEfficiency !== maxEfficiency_ && <Typography component=\"span\" variant=\"caption\" >/</Typography>}\n            {maxEfficiency !== maxEfficiency_ && <PercentBadge value={maxEfficiency_} max={900} valid={artifactValid} />}\n          </Box>}\n          <Box flexGrow={1} />\n          {art.probability !== undefined && art.probability >= 0 && <strong>Probability: {(art.probability * 100).toFixed(2)}%</strong>}\n          <Typography color=\"success.main\">{sheet?.name ?? \"Artifact Set\"} {setDescTooltip}</Typography>\n        </CardContent>\n      </ConditionalWrapper>\n      <Box sx={{ p: 1, display: \"flex\", gap: 1, justifyContent: \"space-between\", alignItems: \"center\" }}>\n        {editable && canEquip\n          ? <CharacterAutocomplete sx={{ flexGrow: 1 }} size=\"small\" showDefault\n            defaultIcon={<BusinessCenter />} defaultText={t(\"ui:inventory\")}\n            value={location} onChange={equipOnChar} />\n          : <LocationName location={location} />}\n        {editable && <ButtonGroup sx={{ height: \"100%\" }}>\n          {editor && <Tooltip title={<Typography>{t`artifact:edit`}</Typography>} placement=\"top\" arrow>\n            <Button color=\"info\" size=\"small\" onClick={onShowEditor} >\n              <FontAwesomeIcon icon={faEdit} className=\"fa-fw\" />\n            </Button>\n          </Tooltip>}\n          {canExclude && <Tooltip title={<Box>\n            <Typography>{t`artifact:excludeArtifactTip`}</Typography>\n            <Typography><ColorText color={exclude ? \"error\" : \"success\"}>{t(`artifact:${exclude ? \"excluded\" : \"included\"}`)}</ColorText></Typography>\n          </Box>} placement=\"top\" arrow>\n            <Button onClick={() => database.arts.set(id, { exclude: !exclude })} color={exclude ? \"error\" : \"success\"} size=\"small\" >\n              <FontAwesomeIcon icon={exclude ? faBan : faChartLine} className=\"fa-fw\" />\n            </Button>\n          </Tooltip>}\n          {!!onDelete && <Button color=\"error\" size=\"small\" onClick={() => onDelete(id)} disabled={lock}>\n            <FontAwesomeIcon icon={faTrashAlt} className=\"fa-fw\" />\n          </Button>}\n          {extraButtons}\n        </ButtonGroup>}\n      </Box>\n    </CardLight >\n  </Suspense>\n}\nfunction SubstatDisplay({ stat, effFilter, rarity }: { stat: ICachedSubstat, effFilter: Set<SubstatKey>, rarity: Rarity }) {\n  const numRolls = stat.rolls?.length ?? 0\n  const maxRoll = stat.key ? Artifact.maxSubstatValues(stat.key) : 0\n  const rollData = useMemo(() => stat.key ? Artifact.getSubstatRollData(stat.key, rarity) : [], [stat.key, rarity])\n  const rollOffset = 7 - rollData.length\n  const rollColor = `roll${clamp(numRolls, 1, 6)}`\n  const efficiency = stat.efficiency ?? 0\n  const inFilter = stat.key && effFilter.has(stat.key)\n  const effOpacity = clamp01(0.5 + (efficiency / (100 * 5)) * 0.5) //divide by 6 because an substat can have max 6 rolls\n  const statName = KeyMap.getStr(stat.key)\n  const unit = KeyMap.unit(stat.key)\n  const progresses = useMemo(() => <Box display=\"flex\" gap={0.25} height=\"1.3em\" sx={{ opacity: inFilter ? 1 : 0.3 }}>\n    {[...stat.rolls].sort().map((v, i) => <SmolProgress key={`${i}${v}`} value={100 * v / maxRoll} color={`roll${clamp(rollOffset + rollData.indexOf(v), 1, 6)}.main`} />)}\n  </Box>, [inFilter, stat.rolls, maxRoll, rollData, rollOffset])\n  return (<Box display=\"flex\" gap={1} alignContent=\"center\">\n    <Typography sx={{ flexGrow: 1 }} color={(numRolls ? `${rollColor}.main` : \"error.main\") as any} component=\"span\">{StatIcon[stat.key]} {statName}{`+${cacheValueString(stat.value, KeyMap.unit(stat.key))}${unit}`}</Typography>\n    {progresses}\n    <Typography sx={{ opacity: effOpacity, minWidth: 40, textAlign: \"right\" }}>{efficiency.toFixed()}%</Typography>\n  </Box>)\n}\nexport function SmolProgress({ color = \"red\", value = 50 }) {\n  return <Box sx={{ width: 7, height: \"100%\", bgcolor: color, overflow: \"hidden\", borderRadius: 1, display: \"inline-block\" }}>\n    <Box sx={{ width: 10, height: `${100 - clamp(value, 0, 100)}%`, bgcolor: \"gray\" }} />\n  </Box>\n}\n","import { ICachedArtifact, MainStatKey } from \"../Types/artifact\";\nimport { allArtifactRarities, allSlotKeys, ArtifactRarity, ArtifactSetKey, CharacterKey, SlotKey } from \"../Types/consts\";\nimport { FilterConfigs, SortConfigs } from \"../Util/SortByFilters\";\nimport Artifact from \"../Data/Artifacts/Artifact\";\nimport { probability } from \"./RollProbability\";\nimport { SubstatKey } from \"../Types/artifact\";\nexport const artifactSortKeys = [\"rarity\", \"level\", \"artsetkey\", \"efficiency\", \"mefficiency\", \"probability\"] as const\nexport const artifactSortKeysTC = [\"probability\"] as const\nexport type ArtifactSortKey = typeof artifactSortKeys[number]\nexport type FilterOption = {\n  artSetKeys: ArtifactSetKey[],\n  rarity: ArtifactRarity[],\n  levelLow: number,\n  levelHigh: number,\n  slotKeys: SlotKey[],\n  mainStatKeys: MainStatKey[],\n  substats: SubstatKey[]\n  location: CharacterKey | \"Inventory\" | \"Equipped\" | \"\"\n  exclusion: Array<\"excluded\" | \"included\">,\n  locked: Array<\"locked\" | \"unlocked\">,\n}\n\ntype ArtifactSortFilter = {\n  filterOption: FilterOption\n  ascending: boolean\n  sortType: ArtifactSortKey\n}\nexport function initialFilterOption(): FilterOption {\n  return {\n    artSetKeys: [],\n    rarity: [...allArtifactRarities],\n    levelLow: 0,\n    levelHigh: 20,\n    slotKeys: [...allSlotKeys],\n    mainStatKeys: [],\n    substats: [],\n    location: \"\",\n    exclusion: [\"excluded\", \"included\"],\n    locked: [\"locked\", \"unlocked\"],\n  }\n}\nexport const initialArtifactSortFilter = (): ArtifactSortFilter => ({\n  filterOption: initialFilterOption(),\n  ascending: false,\n  sortType: artifactSortKeys[0],\n})\n\nexport function artifactSortConfigs(effFilterSet: Set<SubstatKey>, probabilityFilter): SortConfigs<ArtifactSortKey, ICachedArtifact> {\n  return {\n    rarity: {\n      getValue: art => art.rarity ?? 0,\n      tieBreaker: \"level\"\n    },\n    level: {\n      getValue: art => art.level ?? 0,\n      tieBreaker: \"artsetkey\"\n    },\n    artsetkey: {\n      getValue: art => art.setKey ?? \"\",\n      tieBreaker: \"level\"\n    },\n    efficiency: {\n      getValue: art => Artifact.getArtifactEfficiency(art, effFilterSet).currentEfficiency\n    },\n    mefficiency: {\n      getValue: art => Artifact.getArtifactEfficiency(art, effFilterSet).maxEfficiency\n    },\n    probability: {\n      getValue: art => {\n        if (!Object.keys(probabilityFilter).length) return 0\n        const prob = (art as any).probability\n        if (prob === undefined) return probability(art, probabilityFilter);\n        return prob\n      }\n    }\n  }\n}\nexport function artifactFilterConfigs(): FilterConfigs<keyof FilterOption, ICachedArtifact> {\n  return {\n    exclusion: (art, filter) => {\n      if (!filter.includes(\"included\") && !art.exclude) return false\n      if (!filter.includes(\"excluded\") && art.exclude) return false\n      return true\n    },\n    locked: (art, filter) => {\n      if (!filter.includes(\"locked\") && art.lock) return false\n      if (!filter.includes(\"unlocked\") && !art.lock) return false\n      return true\n    },\n    location: (art, filter) => {\n      if (!filter) return true\n      if (filter === \"Inventory\" && !art.location) return true\n      if (filter === \"Equipped\" && art.location) return true\n      if (filter === art.location) return true\n      return false\n    },\n    artSetKeys: (art, filter) => filter.length ? filter.includes(art.setKey) : true,\n    slotKeys: (art, filter) => filter.includes(art.slotKey),\n    mainStatKeys: (art, filter) => filter.length ? filter.includes(art.mainStatKey) : true,\n    levelLow: (art, filter) => filter <= art.level,\n    levelHigh: (art, filter) => filter >= art.level,\n    rarity: (art, filter) => filter.includes(art.rarity),\n    substats: (art, filter) => {\n      for (const filterKey of filter)\n        if (filterKey && !art.substats.some(substat => substat.key === filterKey)) return false;\n      return true\n    }\n  }\n}\n","import { IArtifact, ISubstat, MainStatKey, SubstatKey } from '../Types/artifact'\nimport { crawlObject, layeredAssignment } from '../Util/Util'\nimport Artifact from '../Data/Artifacts/Artifact'\nimport ArtifactMainStatsData from '../Data/Artifacts/artifact_main_gen.json'\n\n// We separate rolls into \"filler rolls\" that occurs when there are less than 4 substats,\n// and \"upgrade rolls\" that occurs when all 4 substats are added. They have different\n// probability distribution and require separate consideration.\n\n// Notations for the remainder of this file.\n//\n// i, j, k := substat\n// E(i) := Extra substat that rolls into substat i\n// T(i) := Targetted (extra) substat for substat i\n// Nf(i) := # of filler roll into substat i (0 <= Nfi <= 1)\n// Nu(i) := # of upgrade rolls into substat i\n//\n// E := { E1, E2, ... }\n// T := { T1, T2, ... }\n// N(i) := Nf(i) + Nu(i)\n// Nf := Nf(1) + Nf(2) + ...\n// Nu := Nu(1) + Nu(2) + ...\n//\n// For example, if the artifact has 14 atk, and the target atk is 30,\n// in a scenario where we roll 2 rolls of 16 and 18 into atk, then\n//\n// i = atk, E(atk) = 16 + 18, T(atk) = 30 - 14, Nf(atk) = 0 roll, Nu(atk) = 2 rolls\n\nconst allWeights = [3, 4, 6] as const\ntype Weight = typeof allWeights[number]\n\n/**\n * Weight used when rolling a filler roll. Each roll will choose from available\n * substats (excluding main stat and existing substats) with these weights.\n */\nconst fWeight: StrictDict<SubstatKey, Weight> = {\n  hp: 6, atk: 6, def: 6,\n  hp_: 4, atk_: 4, def_: 4, eleMas: 4, enerRech_: 4,\n  critRate_: 3, critDMG_: 3\n}\n\n/**\n * Probability of observing a filler sequence with particular weights\n *\n * pFillerSeq[w0][w1][w2][...] = Pr [ fWeight[main stat] = w0, fWeight[substat1] = w1, fWeight[substat2] = w2, ... ]\n */\nconst pFillerSeq: Dict<0 | Weight, Dict<Weight, Dict<Weight, Dict<Weight, Dict<Weight, number>>>>> = {}\nfunction populatePFillerSeq(prefix: (0 | Weight)[], prob: { [key in Weight]: number }, sumProb: number, current: number) {\n  if (prefix.length === 5) {\n    layeredAssignment(pFillerSeq, prefix as any, current)\n    return\n  }\n\n  for (const i of allWeights)\n    if (prob[i] > 0)\n      populatePFillerSeq([...prefix, i], { ...prob, [i]: prob[i] - i }, sumProb - i, current * prob[i] / sumProb)\n}\npopulatePFillerSeq([0], { 3: 6, 4: 20, 6: 18 }, 44, 1)\n\npopulatePFillerSeq([3], { 3: 3, 4: 20, 6: 18 }, 41, 1)\npopulatePFillerSeq([4], { 3: 6, 4: 16, 6: 18 }, 40, 1)\npopulatePFillerSeq([6], { 3: 6, 4: 20, 6: 12 }, 38, 1)\n\n/**\n * cnr[n][r] = C(n, r) = n! / (r!(n-r)!)\n *\n * 0 <= n <= 5; 0 <= r <= n\n */\nconst cnr = Array(6).fill(0).map((_, n) => {\n  const result = [1]\n  let r = 0, value = 1\n  while (++r <= n) {\n    value *= n - r + 1\n    value /= r\n    result.push(value)\n  }\n\n  return result\n})\n\n/**\n * pNExtra[n][i] = Pr[ E(k) >= (i - 7n) * alpha(i) | N(k) = n ]\n *               = Pr[ (E(k) / alpha(k)) - 7n >= i | N(k) = n ]\n *\n * 0 <= n <= 5; 0 <= i < 3*n + 1\n */\nconst pNExtra = [[1]]\nwhile (pNExtra.length < 6) {\n  const last = pNExtra[pNExtra.length - 1]\n  const next = Array(last.length + 3).fill(0)\n  last.forEach((value, i) => {\n    for (const j of [0, 1, 2, 3]) {\n      next[i + j] += value\n    }\n  })\n\n  pNExtra.push(next.map(x => x / 4))\n}\nfor (const array of pNExtra) {\n  let accu = array.reduce((a, b) => a + b)\n  array.forEach((x, i, array) => {\n    array[i] = accu\n    accu -= x\n  })\n}\n\n/** Probability that `artifact` will have at least `target` stats at max level */\nfunction probability(artifact: IArtifact, _target: { [key in SubstatKey]?: number }): number {\n  if (artifact.rarity <= 2) return NaN // Doesn't work with 1* and 2* should we decide to add them\n\n  const { rarity, level, substats } = artifact\n\n  // `target = target - mainstat - substat` to find the extra substats we need\n  // Also count filler rolls (4 - # of substats) while we're at it\n  const target = { ..._target }, required = new Set(Object.keys(target))\n  let numFillerSlots = 0\n  {\n    const key = artifact.mainStatKey\n    if (key in target) {\n      const maxLevel = rarity * 4 // Note: this formula doesn't work with 1* and 2* artifacts\n      const maxLevelMainStat = ArtifactMainStatsData[rarity][key][maxLevel]\n      if (maxLevelMainStat < target[key]!) return 0 // Main stat won't meet the target\n\n      delete target[key]\n      required.delete(key as SubstatKey)\n    }\n  }\n  for (const { key, value } of substats) {\n    if (key) {\n      if (required.has(key)) {\n        required.delete(key)\n        if (target[key]! > value)\n          target[key]! -= value\n        else delete target[key] // Requirement already met\n      }\n    } else numFillerSlots += 1\n  }\n  numFillerSlots += 4 - substats.length\n\n  if (required.size > numFillerSlots || Object.keys(target).length > 4) return 0 // Not enough filler rolls\n\n  const numUpgradeRolls = Artifact.rollsRemaining(level, rarity) - numFillerSlots\n\n  // normalize `target`\n  for (const [key, value] of Object.entries(target))\n    target[key] = Math.max(Math.ceil(10 * value / Artifact.maxSubstatValues(key, rarity)), 1)\n\n  let minTotalUpgrades = 0\n  const targetEntries = Object.entries(target).map(([key, target]) => {\n    const filler = required.has(key) ? 1 : 0 // Nf(i)\n    const minUpgrade = Math.ceil(target / 10) - filler // Minimum # of upgrade rolls to ensure E(i) > T(i)\n    minTotalUpgrades += minUpgrade\n    return { target, filler, minUpgrade }\n  }).reverse()\n\n  if (minTotalUpgrades > numUpgradeRolls) return 0 // Not enough upgrade rolls\n\n  /**\n   * The optimization trick here is to write Pr[ E > T | N ] using a recursive relation. Let\n   *\n   *  f(n, t) = Pr[ E(i) >= t | N(i) = n ]\n   *  g(k, n) = Pr[ E(1) >= T(1), E(2) >= T(2), ..., E(k) >= T(k) | Nu - Nu(1) - Nu(2) - ... - Nu(k) = n ]\n   *  h(n, m, M) = Pr[ Nu(k) = m | 0 <= Nu(k) <= n, |K| = M ]\n   *\n   * Then\n   *\n   *  Pr [ E > T | N ] = Pr[ Nf(k) = I(k requires filler) for all k | N ] sum{0 <= n <= Nu} g(|K|, n)\n   *\n   * where I(X) is the indicator function, and |K| is the number of substat constraints, and\n   *\n   *  f(n, e * alpha(i)) = pNExtra[n][ e - 7n ]\n   *  h(n, m, M) = C(n, m) (M-1)^(n - m) M^(-n) = pRollInto(n, m, M)\n   *  g(0, N) = 1\n   *  g(0, n) = 0 for n != N\n   *\n   *  g(k + 1, n) = sum{0 <= m <= n} g(k, n + m) f(m + Nf(k), T(k)) h(n + m, m, |K| - k)\n   */\n\n  // At this point,\n  //  `target` = ceil(T / alpha)\n  //  `numUpgradeRolls` = Nu\n\n  let result = { [numUpgradeRolls]: 1 }, additionalUpgradeRolls = numUpgradeRolls - minTotalUpgrades\n\n  // Keep applying `target` from first to last.\n  // At each step i in the loop, `result[n]` = g(i, n)\n  targetEntries.forEach(({ target, filler, minUpgrade }, targetIndex) => {\n    const next: typeof result = {}\n\n    for (let rolls = minUpgrade; rolls <= minUpgrade + additionalUpgradeRolls; rolls++) {\n      // rolls = m; extra = T(i) / alpha - 7n\n\n      // Extra substat (mutiple of alpha) required from upgrade & filler rolls\n      const extra = target - 7 * (rolls + filler)\n      // pExtra = Pr[ Has at least `extra` * alpha from `rolls` upgrade or filler rolls into `key` ]\n      //        = f(m + Nf(i), T(i))\n      const pExtra = (extra > 0 ? pNExtra[rolls + filler][extra] : 1)\n\n      for (const [_remaining, probability] of Object.entries(result)) {\n        const remaining = parseInt(_remaining)\n        if (remaining < rolls) continue\n\n        // n := remaining - m\n        // remaining = n + m\n        // probability = g(i, n + m)\n\n        // `pRolls` = Pr[ Has `rolls` rolls into `key` from `remaining` upgrade rolls ]\n        //          = h(n + m, m, |K| - i)\n        const pRolls = pRollInto(remaining, rolls, 4 - targetIndex)\n        const index = remaining - rolls // n\n\n        // g(i + 1, n) += g(i, n + m) f(m + Nf(i), T(i)) h(n + m, m, |K| - i)\n        next[index] = (next[index] ?? 0) + probability * pExtra * pRolls\n      }\n    }\n    result = next\n  })\n\n  // At this point, `result[i]` = g(|K|, i)\n\n  return calculatePFillerRolls(artifact.mainStatKey, substats, required) * Object.values(result).reduce((a, b) => a + b)\n}\n\n/**\n * Pr[ N(k) = n | N = m, |K| = M ]\n *\n * 0 <= n <= N <= 5; 0 <= M <= 4\n */\nfunction pRollInto(m: number, n: number, M: number) {\n  return cnr[m][n] * Math.pow(M - 1, m - n) / Math.pow(M, m)\n}\n\n// Given a list of substat (in that order), calculate the probability that filler rolls will have all `required` substats in any order\nfunction calculatePFillerRolls(mainStat: MainStatKey, substats: ISubstat[], required: Set<SubstatKey>) {\n  // Instead of picking substats in a particular order [critDMG_, atk_, ...],\n  // We pick substat weights first [3, 4, 3, ...], then assign proper substats\n  // that corresponds to that weight: 3 => critDMG_ | critRate_ ; 4 => atk_, etc.\n  // This reduces the search space significantly (5040 substat sequences => 71 weight sequences).\n\n  const mainStatRatio = fWeight[mainStat] ?? 0\n  let pFillerRolls = 0 // Pr[ filler rolls include all `required` substats, Substats are in the same order as `substats` ]\n\n  const numUnusedSubstats = { 3: 2, 4: 5, 6: 3 } // # of substat not used by main stat or substats\n  let pSuffixFillerSeq: any = pFillerSeq[mainStatRatio] // Suffix of `pFillerSeq` that excludes the `substats` portion\n  for (const { key } of substats) {\n    if (key) {\n      const ratio = fWeight[key]\n      pSuffixFillerSeq = pSuffixFillerSeq[ratio]\n      numUnusedSubstats[ratio] -= 1\n    }\n  }\n  if (mainStatRatio) numUnusedSubstats[mainStatRatio] -= 1\n\n  const requiredCount = { 3: 0, 4: 0, 6: 0 }\n  for (const key of required) requiredCount[fWeight[key]] += 1\n\n  let total = 0\n  crawlObject(pSuffixFillerSeq, [], obj => typeof obj === \"number\", (prob: number, path: string[]) => {\n    total += prob\n    const currentCount = { 3: 0, 4: 0, 6: 0 }\n    for (const key of path) currentCount[key] += 1\n\n    let sum = prob\n    for (const i of allWeights) {\n      const current = currentCount[i], required = requiredCount[i]\n      if (current < required) return\n      sum *= cnr[current][required]\n    }\n\n    pFillerRolls += sum\n  })\n\n  for (const i of allWeights)\n    pFillerRolls /= cnr[numUnusedSubstats[i]][requiredCount[i]]\n  return pFillerRolls / total\n}\n\nexport { probability }\n","import { useCallback, useContext, useEffect, useState } from \"react\";\nimport { DatabaseContext } from \"../../../../Database/Database\";\nimport { BuildSetting, BuildSettingReducerAction } from \"../../../../Database/Data/BuildsettingData\";\nimport { CharacterKey } from \"../../../../Types/consts\";\n\nexport default function useBuildSetting(characterKey: CharacterKey) {\n  const { database } = useContext(DatabaseContext)\n  const [buildSetting, setBuildSetting] = useState(() => database.buildSettings.get(characterKey))\n  useEffect(() => setBuildSetting(database.buildSettings.get(characterKey)), [database, characterKey])\n  useEffect(() =>\n    database.buildSettings.follow(characterKey, setBuildSetting),\n    [characterKey, setBuildSetting, database])\n  const buildSettingDispatch = useCallback((action: BuildSettingReducerAction) => characterKey && database.buildSettings.set(characterKey, action), [characterKey, database],)\n\n  return { buildSetting: buildSetting as BuildSetting, buildSettingDispatch }\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport { DatabaseContext } from \"../Database/Database\";\n\nexport default function useArtifact(artifactID: string | undefined = \"\") {\n  const { database } = useContext(DatabaseContext)\n  const [artifact, setArtifact] = useState(database.arts.get(artifactID))\n  useEffect(() => setArtifact(database.arts.get(artifactID)), [database, artifactID])\n  useEffect(() =>\n    artifactID ? database.arts.follow(artifactID, setArtifact) : undefined,\n    [artifactID, setArtifact, database])\n  return artifact\n}\n"],"names":["SubstatToggle","selectedKeys","onChange","keys1","allSubstatKeys","keys2","selKeys1","filter","k","includes","selKeys2","container","spacing","item","xs","md","fullWidth","value","e","arr","sx","height","map","key","size","display","gap","alignItems","StatIcon","KeyMap","StyledInputBase","styled","InputBase","theme","backgroundColor","palette","primary","main","transition","dark","Wrapper","Button","padding","overflow","width","CustomNumberInputButtonGroupWrapper","children","props","disableRipple","disableFocusRipple","disableTouchRipple","CustomNumberInput","disabled","float","useState","number","setNumber","focused","setFocus","parseFunc","useMemo","parseFloat","parseInt","onBlur","useCallback","onFocus","useEffect","onInputChange","target","onKeyDOwn","type","inputProps","step","onKeyDown","className","placement","component","cursor","icon","faInfoCircle","PercentBadge","max","valid","clamp","Math","floor","toFixed","badgeColor","text","color","StatFilterCard","t","useTranslation","characterKey","useContext","CharacterContext","character","data","DataContext","useBuildSetting","statFilters","buildSetting","buildSettingDispatch","setStatFilters","statKeys","get","input","push","charEle","remainingKeys","Object","keys","some","setFilter","sKey","min","justifyContent","title","flexDirection","entries","statKey","StatFilterItem","close","statFilters_","isFloat","s","onClick","flexBasis","flexGrow","placeholder","px","textAlign","endAdornment","faTrashAlt","ArtifactEditor","lazy","allSubstatFilter","Set","ArtifactCard","artifactId","artifactObj","onDelete","mainStatAssumptionLevel","effFilter","editor","canExclude","canEquip","extraButtons","database","DatabaseContext","databaseArtifact","useArtifact","sheet","usePromise","ArtifactSheet","setKey","editable","showEditor","setshowEditor","onHideEditor","onShowEditor","wrapperFunc","falseWrapperFunc","art","currentEfficiency","maxEfficiency","currentEfficiency_","maxEfficiency_","Artifact","id","lock","slotKey","rarity","level","mainStatKey","substats","exclude","location","mainStatLevel","mainStatUnit","levelVariant","artifactValid","slotName","getSlotName","slotDesc","getSlotDesc","slotDescTooltip","Suspense","fallback","variant","setEffects","setDescTooltip","setNumKey","setNum","setEffectDesc","minHeight","artifactIdToEdit","cancelEdit","condition","wrapper","falseWrapper","position","arts","set","right","bottom","zIndex","pt","mb","label","noWrap","borderRadius","undefined","cacheValueString","stars","colored","top","src","slotIcons","pb","stat","SubstatDisplay","my","probability","name","p","showDefault","defaultIcon","defaultText","charKey","arrow","faEdit","faBan","faChartLine","numRolls","rolls","length","maxRoll","rollData","rollOffset","rollColor","efficiency","inFilter","has","effOpacity","clamp01","statName","unit","progresses","opacity","sort","v","i","SmolProgress","indexOf","alignContent","minWidth","bgcolor","artifactSortKeys","artifactSortKeysTC","initialFilterOption","artSetKeys","allArtifactRarities","levelLow","levelHigh","slotKeys","allSlotKeys","mainStatKeys","exclusion","locked","initialArtifactSortFilter","filterOption","ascending","sortType","artifactSortConfigs","effFilterSet","probabilityFilter","getValue","tieBreaker","artsetkey","mefficiency","prob","artifactFilterConfigs","filterKey","substat","allWeights","fWeight","hp","atk","def","hp_","atk_","def_","eleMas","enerRech_","critRate_","critDMG_","pFillerSeq","populatePFillerSeq","prefix","sumProb","current","layeredAssignment","cnr","Array","fill","_","n","result","r","pNExtra","last","next","forEach","x","array","accu","reduce","a","b","artifact","_target","NaN","required","numFillerSlots","maxLevel","ArtifactMainStatsData","delete","numUpgradeRolls","ceil","minTotalUpgrades","targetEntries","filler","minUpgrade","reverse","additionalUpgradeRolls","targetIndex","m","M","extra","pExtra","_remaining","remaining","pRolls","pow","index","mainStat","mainStatRatio","pFillerRolls","numUnusedSubstats","pSuffixFillerSeq","ratio","requiredCount","total","crawlObject","obj","path","currentCount","sum","calculatePFillerRolls","values","buildSettings","setBuildSetting","follow","action","artifactID","setArtifact"],"sourceRoot":""}