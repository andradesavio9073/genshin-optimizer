"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[574],{31284:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(68870),a=t(31148),i=t(42320),c=t(37503),s=t(80184);function o(e){var n,t=e.setKey,o=e.setNumKey,u=e.hideHeader,l=void 0!==u&&u,d=e.conditionalsOnly,f=void 0!==d&&d,h=(0,i.Z)(a.y.get(t),[t]);if(!h)return null;var v=f?null===(n=h.setEffectDocument(o))||void 0===n?void 0:n.filter((function(e){return"states"in e})):h.setEffectDocument(o);return(0,s.jsx)(r.Z,{display:"flex",flexDirection:"column",children:v?(0,s.jsx)(c.Z,{sections:v,hideHeader:l}):null})}},37503:function(e,n,t){t.d(n,{X:function(){return W},Z:function(){return R}});var r=t(68870),a=t(20890),i=t(9585),c=t(94721),s=t(72791),o=t(2693),u=t(60393),l=t(3992),d=t(39504),f=t(88034),h=t(29439),v=t(72247),p=t(9912),x=t(24518),m=t(23786),Z=t(2199),y=t(33890),b=t(25617),j=t(66624),g=t(80184);function k(e){var n=e.conditional,t=e.disabled,r=void 0!==t&&t;return 1===Object.keys(n.states).length&&"path"in n?(0,g.jsx)(w,{conditional:n,disabled:r}):"path"in n?(0,g.jsx)(C,{conditional:n,disabled:r}):(0,g.jsx)(O,{conditional:n,disabled:r})}function w(e){var n=e.conditional,t=e.disabled,r=(0,s.useContext)(o.R),a=r.character,i=r.characterDispatch,c=r.data,l=(0,s.useCallback)((function(e){var t=(0,u.I8)(a.conditional);e?(0,u.SR)(t,n.path,e):(0,u.uH)(t,n.path),i({conditional:t})}),[n,a,i]),d=c.get(n.value).value,f=(0,h.Z)(Object.entries(n.states)[0],2),m=f[0],Z=S(f[1].name),y=H(n.name);return(0,g.jsxs)(x.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:d?"success":"primary",onClick:function(){return l(d?void 0:m)},disabled:t,startIcon:d?(0,g.jsx)(v.Z,{}):(0,g.jsx)(p.Z,{}),children:[y," ",Z]})}function C(e){var n=e.conditional,t=e.disabled,r=(0,s.useContext)(o.R),a=r.character,i=r.characterDispatch,l=r.data,d=(0,s.useCallback)((function(e){var t=(0,u.I8)(a.conditional);e?(0,u.SR)(t,n.path,e):(0,u.uH)(t,n.path),i({conditional:t})}),[n,a,i]),f=l.get(n.value).value,v=f?n.states[f]:void 0,p=v?S(v.name):(0,g.jsx)(b.Z,{color:"secondary",children:"Not Active"}),x=H(n.name);return(0,g.jsxs)(y.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:f?"success":"primary",title:(0,g.jsxs)("span",{children:[x," ",p]}),disabled:t,children:[(0,g.jsx)(m.Z,{onClick:function(){return d()},selected:!v,disabled:!v,children:(0,g.jsx)("span",{children:"Not Active"})}),(0,g.jsx)(c.Z,{}),Object.entries(n.states).map((function(e){var n=(0,h.Z)(e,2),t=n[0],r=n[1];return(0,g.jsx)(m.Z,{onClick:function(){return d(t)},selected:f===t,disabled:f===t,children:r.name},t)}))]})}function O(e){var n=e.conditional,t=e.disabled,r=(0,s.useContext)(o.R),a=r.character,i=r.characterDispatch,c=r.data,l=(0,s.useCallback)((function(e,n){var t=(0,u.I8)(a.conditional);n?(0,u.SR)(t,e,n):(0,u.uH)(t,e),i({conditional:t})}),[a,i]);return(0,g.jsx)(Z.Z,{fullWidth:!0,orientation:"vertical",disableElevation:!0,color:"secondary",children:Object.entries(n.states).map((function(e){var n=(0,h.Z)(e,2),r=n[0],a=n[1],i=c.get(a.value).value,s=i===r;return(0,g.jsx)(x.Z,{color:s?"success":"primary",disabled:t,fullWidth:!0,onClick:function(){return l(a.path,i?void 0:r)},size:"small",startIcon:s?(0,g.jsx)(v.Z,{}):(0,g.jsx)(p.Z,{}),sx:{borderRadius:0},children:H(a.name)},r)}))})}function _(e){return"string"!==typeof e}function S(e){if(!e)return"";var n="primary",t=e;return e&&_(e)&&e.props.color&&(n=e.props.color,t=(0,g.jsx)("span",{children:e.props.children})),(0,g.jsx)(b.Z,{sx:{ml:.5},color:n,children:t})}function H(e){if(_(e)){var n=e.props.key18,t=e.props.ns,r=e.props.values;return(0,g.jsx)(j.v,{ns:t,key18:n,values:r,useBadge:!0})}return e}function q(e){var n,t=e.conditional,r=e.hideHeader,a=void 0!==r&&r,i=e.hideDesc,c=void 0!==i&&i,h=(0,s.useContext)(o.R).data;if("path"in t){var v,p=h.get(t.value).value;n=p&&(null===(v=t.states[p])||void 0===v?void 0:v.fields)}else n=Object.values(t.states).flatMap((function(e){return h.get(e.value).value?e.fields:[]}));return(0,g.jsxs)(l.Z,{children:[!(0,u.mY)(a,t)&&(0,g.jsx)(W,{header:t.header,hideDesc:c}),(0,g.jsx)(d.Z,{sx:{p:0,"&:last-child":{pb:0}},children:(0,g.jsx)(k,{conditional:t})}),n&&(0,g.jsx)(f.ZP,{fields:n})]})}var E=t(55221);function R(e){var n=e.sections,t=e.teamBuffOnly,a=e.hideDesc,i=void 0!==a&&a,c=e.hideHeader,u=void 0!==c&&c,l=(0,s.useContext)(o.R).data;if(!n.length)return null;var d=n.map((function(e,n){return e.canShow&&!l.get(e.canShow).value||t&&!e.teamBuff?null:(0,g.jsx)(V,{section:e,hideDesc:i,hideHeader:u},n)})).filter((function(e){return e}));return d.length?(0,g.jsx)(r.Z,{display:"flex",flexDirection:"column",gap:1,children:d}):null}function V(e){var n=e.section,t=e.hideDesc,r=void 0!==t&&t,a=e.hideHeader,i=void 0!==a&&a;return"fields"in n?(0,g.jsx)(M,{section:n,hideDesc:r,hideHeader:i}):"states"in n?(0,g.jsx)(q,{conditional:n,hideDesc:r,hideHeader:i}):(0,g.jsx)(D,{section:n})}function M(e){var n=e.section,t=e.hideDesc,r=e.hideHeader;return(0,g.jsxs)(l.Z,{children:[!(0,u.mY)(r,n)&&n.header&&(0,g.jsx)(W,{header:n.header,hideDesc:t,hideDivider:0===n.fields.length}),(0,g.jsx)(f.ZP,{fields:n.fields})]})}function D(e){var n=e.section,t=(0,s.useContext)(o.R).data;return(0,g.jsx)("div",{children:(0,u.mY)(n.text,t)})}function W(e){var n=e.header,t=e.hideDesc,r=e.hideDivider,l=(0,s.useContext)(o.R).data,d=n.icon,f=n.title,h=n.action;d=(0,u.mY)(d,l);var v=!t&&(0,u.mY)(n.description,l),p=t?f:(0,g.jsxs)("span",{children:[f," ",(0,g.jsx)(E.Z,{title:(0,g.jsx)(a.Z,{children:v})})]});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.Z,{avatar:d,title:p,action:h,titleTypographyProps:{variant:"subtitle2"}}),!r&&(0,g.jsx)(c.Z,{})]})}},32490:function(e,n,t){t.d(n,{Hn:function(){return g},oX:function(){return j},pg:function(){return y}});var r=t(1413),a=t(29439),i=t(23786),c=t(90388),s=t(68870),o=t(72791),u=t(21206),l=t(2693),d=t(26138),f=t(91702),h=t(33890),v=t(91839),p=t(25617),x=t(75545),m=t(80184),Z={"":(0,m.jsx)("span",{children:"No Team Melee Infusion"}),pyro:(0,m.jsxs)("span",{children:[x.h.pyro," ",(0,m.jsx)(p.Z,{children:"Bennett C6"})," Fire Ventures with Me"]}),cryo:(0,m.jsxs)("span",{children:[x.h.cryo," ",(0,m.jsx)(p.Z,{children:"Chongyun Skill"})," Spirit Blade: Chonghua's Layered Frost"]})};function y(e){var n=(0,o.useContext)(l.R),t=n.characterSheet,c=n.character.infusionAura,s=n.characterDispatch;return null!==t&&void 0!==t&&t.isMelee()?(0,m.jsx)(h.Z,(0,r.Z)((0,r.Z)({title:Z[c],color:c||"secondary",disableElevation:!0},e),{},{children:Object.entries(Z).map((function(e){var n=(0,a.Z)(e,2),t=n[0],r=n[1];return(0,m.jsx)(i.Z,{sx:t?{color:"".concat(t,".main")}:void 0,selected:t===c,disabled:t===c,onClick:function(){return s({infusionAura:t})},children:r},t)}))})):null}var b={mx:.25,px:.25,fontSize:"1em"};function j(e){var n=(0,o.useContext)(l.R),t=n.data,a=n.character.reactionMode,i=n.characterDispatch,h=t.get(d.ri.charEle).value,Z=t.get(u._d).value;return["pyro","hydro","cryo"].includes(h)||["pyro","hydro","cryo"].includes(Z)?(0,m.jsxs)(v.Z,(0,r.Z)((0,r.Z)({exclusive:!0,baseColor:"secondary",value:a,onChange:function(e,n){return i({reactionMode:n})}},e),{},{children:[(0,m.jsx)(c.Z,{value:"",disabled:""===a,children:"No Reactions"}),("pyro"===h||"pyro"===Z)&&(0,m.jsxs)(c.Z,{value:"pyro_vaporize",disabled:"pyro_vaporize"===a,children:[(0,m.jsx)(f.Z,{color:"vaporize",children:"Vaporize(Pyro)"}),(0,m.jsxs)(s.Z,{display:"flex",alignItems:"center",children:[(0,m.jsx)(p.Z,{sx:b,color:"hydro",children:x.h.hydro}),"+",(0,m.jsx)(p.Z,{sx:b,color:"pyro",children:x.h.pyro})]})]}),("pyro"===h||"pyro"===Z)&&(0,m.jsxs)(c.Z,{value:"pyro_melt",disabled:"pyro_melt"===a,children:[(0,m.jsx)(f.Z,{color:"melt",children:"Melt(Pyro)"}),(0,m.jsxs)(s.Z,{display:"flex",alignItems:"center",children:[(0,m.jsx)(p.Z,{sx:b,color:"cryo",children:x.h.cryo}),"+",(0,m.jsx)(p.Z,{sx:b,color:"pyro",children:x.h.pyro})]})]}),("hydro"===h||"hydro"===Z)&&(0,m.jsxs)(c.Z,{value:"hydro_vaporize",disabled:"hydro_vaporize"===a,children:[(0,m.jsx)(f.Z,{color:"vaporize",children:"Vaporize(Hydro)"}),(0,m.jsxs)(s.Z,{display:"flex",alignItems:"center",children:[(0,m.jsx)(p.Z,{sx:b,color:"pyro",children:x.h.pyro}),"+",(0,m.jsx)(p.Z,{sx:b,color:"hydro",children:x.h.hydro})]})]}),("cryo"===h||"cryo"===Z)&&(0,m.jsxs)(c.Z,{value:"cryo_melt",disabled:"cryo_melt"===a,children:[(0,m.jsx)(f.Z,{color:"melt",children:"Melt(Cryo)"}),(0,m.jsxs)(s.Z,{display:"flex",alignItems:"center",children:[(0,m.jsx)(p.Z,{sx:b,color:"pyro",children:x.h.pyro}),"+",(0,m.jsx)(p.Z,{sx:b,color:"cryo",children:x.h.cryo})]})]})]})):null}function g(e){var n=(0,o.useContext)(l.R),t=n.character.hitMode,a=n.characterDispatch;return(0,m.jsxs)(v.Z,(0,r.Z)((0,r.Z)({exclusive:!0,baseColor:"secondary",value:t,onChange:function(e,n){return a({hitMode:n})}},e),{},{children:[(0,m.jsx)(c.Z,{value:"avgHit",disabled:"avgHit"===t,children:"Avg. DMG"}),(0,m.jsx)(c.Z,{value:"hit",disabled:"hit"===t,children:"Non Crit DMG"}),(0,m.jsx)(c.Z,{value:"critHit",disabled:"critHit"===t,children:"Crit Hit DMG"})]}))}},21206:function(e,n,t){t.d(n,{WC:function(){return Z},KX:function(){return b},SJ:function(){return y},r:function(){return _},Zu:function(){return j},xm:function(){return k},L1:function(){return O},_d:function(){return p},q8:function(){return C},qp:function(){return g},s_:function(){return w}});var r=t(4942),a=t(1413),i=t(93433),c=t(26138),s=t(73036),o=t(50609),u=t(78661),l=t(50765),d=t(60393),f=JSON.parse('{"GROW_CURVE_HP_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_ATTACK_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_HP_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652},"GROW_CURVE_ATTACK_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652}}'),h=(0,d.xh)(f,(function(e){return[0].concat((0,i.Z)(Object.values(e)))})),v=(0,d.O)(["hp","atk","def","eleMas","enerRech_","critRate_","critDMG_","heal_"],(function(e){return c.qH.total[e]})),p=(0,u.Qq)(c.qH.infusion.nonOverridableSelf,c.qH.infusion.team,c.qH.infusion.overridableSelf),x=(0,u.Qq)((0,u.P5)(c.qH.hit.move,{skill:c.qH.charEle,burst:c.qH.charEle},void 0),(0,u.P5)(c.qH.weaponType,{sword:p,claymore:p,polearm:p,catalyst:c.qH.charEle},void 0),"physical");function m(e){switch(e){case"normal":case"charged":case"plunging":return"auto";case"skill":return"skill";case"burst":return"burst"}}function Z(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,u.aT)(c.qH.hit.dmg,(0,s.b3)([{hit:{base:e,move:(0,u.a9)(n),ele:null!==r&&void 0!==r&&null!==(t=r.hit)&&void 0!==t&&t.ele?void 0:x}},r]))}function y(e,n){var t=(0,u.WV)(e,(0,u.Sm)(u.J_,c.qH.total.shield_));return n?(0,u.aT)(t,n):t}function b(e,n){var t=c.qH.total.healInc,r=(0,u.WV)((0,u.Sm)(e,t),(0,u.Sm)(u.J_,c.qH.total.heal_,c.qH.total.incHeal_));return n?(0,u.aT)(r,n):r}function j(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=m(t);return Z((0,u.WV)((0,u.lp)(c.qH.total["".concat(a,"Index")],n,{key:"_"}),c.qH.total[e]),t,r)}function g(e,n,t,r){return y((0,u.Sm)((0,u.WV)(n,c.qH.total[e]),t),r)}function k(e,n,t,r){return b((0,u.Sm)((0,u.WV)(n,c.qH.total[e]),t),r)}function w(e,n,t,r,a){var i=m(r),s=c.qH.total["".concat(i,"Index")];return y((0,u.Sm)((0,u.WV)((0,u.lp)(s,n,{key:"_"}),c.qH.total[e]),(0,u.lp)(s,t)),a)}function C(e,n){return(0,u.ce)((0,u.WV)((0,u.aQ)("geo"===e?1.5:2.5),n),{variant:e})}function O(e,n,t,r,a){var i=m(r),s=c.qH.total["".concat(i,"Index")];return b((0,u.Sm)((0,u.WV)((0,u.lp)(s,n,{key:"_"}),c.qH.total[e]),(0,u.lp)(s,t)),a)}function _(e,n,t,f,p){var x=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};function m(e,n){return(0,u.WV)(e,(0,u.lp)(c.qH.lvl,h[n]))}p.basic=(0,a.Z)({},v);var Z,y={charKey:(0,u.a9)(e),base:{},weaponType:(0,u.a9)(f.weaponTypeKey),premod:{},display:p};n&&(y.charEle=(0,u.a9)(n),y.teamBuff={tally:(0,r.Z)({},n,(0,u.a9)(1))},y.display.basic["".concat(n,"_dmg_")]=c.qH.total["".concat(n,"_dmg_")],y.display.reaction=o.gw[n]),t&&(0,d.SR)(y,["teamBuff","tally",t],(0,u.a9)(1)),"catalyst"!==f.weaponTypeKey&&(y.display.basic||(y.display.basic={}),y.display.basic.physical_dmg_=c.qH.total.physical_dmg_);for(var b=function(){var e=g[j],n=[];if(f.curves[e]&&n.push(m(f.base[e],f.curves[e])),f.ascensions.some((function(n){return n.props[e]}))&&n.push((0,u.lp)(c.qH.asc,f.ascensions.map((function(n){var t;return null!==(t=n.props[e])&&void 0!==t?t:NaN})))),!n.length)return"continue";var t=(0,u.ce)(1===n.length?n[0]:u.Sm.apply(void 0,n),{key:e,prefix:"char",asConst:!0});if(e.endsWith("_dmg_")&&(t.info.variant=e.slice(0,-5)),"atk"===e||"def"===e||"hp"===e)y.base[e]=t;else{if(Z)throw new Error("Duplicated Char Special");Z=!0,y.special=t,y.premod[e]=c.qH.special}},j=0,g=[].concat((0,i.Z)(l.r),["def"]);j<g.length;j++)b();return(0,s.b3)([y,(0,s.d1)(x)])}},8430:function(e,n,t){t.d(n,{U:function(){return j},f:function(){return y}});var r=t(74165),a=t(93433),i=t(29439),c=t(15861),s=t(1413),o=t(20890),u=t(26138),l=t(31148),d=t(947),f=t(91702),h=t(25617),v=t(60393),p=t(66218),x=t(80184),m={title:(0,x.jsx)(f.Z,{color:"warning",children:"ERROR"})},Z=(0,s.Z)({normal:"Normal Atk.",charged:"Charged Atk.",plunging:"Plunging Atk.",skill:"Ele. Skill",burst:"Ele. Burst",passive:"Passive",passive1:"1st Asc. Pass.",passive2:"4th Asc. Pass.",passive3:"Util. Pass."},Object.fromEntries((0,v.w6)(1,6).map((function(e){return["constellation".concat(e),"Const. ".concat(e)]}))));function y(e,n){return b.apply(this,arguments)}function b(){return(b=(0,c.Z)((0,r.Z)().mark((function e(n,t){var a,c,s,f,v,y,b,j,g,k,w,C,O;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",m);case 2:if("basic"!==t){e.next=6;break}return e.abrupt("return",{title:"Basic Stats"});case 6:if("reaction"!==t){e.next=10;break}return e.abrupt("return",{title:"Transformative Reactions"});case 10:if(!t.includes(":")){e.next=31;break}if(a=t.split(":"),c=(0,i.Z)(a,2),s=c[0],f=c[1],"artifact"!==s){e.next=21;break}return e.next=15,l.y.get(f);case 15:if(v=e.sent){e.next=18;break}return e.abrupt("return",m);case 18:return e.abrupt("return",{title:v.name,icon:v.defIconSrc});case 21:if("weapon"!==s){e.next=29;break}return e.next=24,p.Z.get(f);case 24:if(y=e.sent){e.next=27;break}return e.abrupt("return",m);case 27:return b=n.get(u.qH.weapon.asc).value,e.abrupt("return",{title:y.name,icon:b<2?y.img:y.imgAwaken});case 29:e.next=44;break;case 31:if(j=n.get(u.qH.charKey).value,g=n.get(u.qH.charEle).value,j&&g){e.next=35;break}return e.abrupt("return",m);case 35:return e.next=37,d.Z.get(j);case 37:if(k=e.sent,w=["normal","charged","plunging"].includes(t)?"auto":t,C=null===k||void 0===k?void 0:k.getTalentOfKey(w,g)){e.next=42;break}return e.abrupt("return",m);case 42:return O=Z[t],e.abrupt("return",{icon:C.img,title:C.name,action:O?(0,x.jsx)(h.Z,{children:(0,x.jsx)(o.Z,{variant:"subtitle2",children:O})}):void 0});case 44:return e.abrupt("return",m);case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){var n=e.getDisplay(),t=Object.entries(n).filter((function(e){var n=(0,i.Z)(e,2),t=(n[0],n[1]);return!Object.values(t).every((function(e){return e.isEmpty}))})),r=t.filter((function(e){return"basic"===(0,i.Z)(e,1)[0]})),c=t.filter((function(e){return"reaction"===(0,i.Z)(e,1)[0]})),s=t.filter((function(e){return(0,i.Z)(e,1)[0].startsWith("weapon")})),o=t.filter((function(e){return(0,i.Z)(e,1)[0].startsWith("artifact")})),u=t.filter((function(e){var n=(0,i.Z)(e,1)[0];return"basic"!==n&&"reaction"!==n&&!n.startsWith("weapon")&&!n.startsWith("artifact")}));return[].concat((0,a.Z)(r),(0,a.Z)(u),(0,a.Z)(s),(0,a.Z)(o),(0,a.Z)(c))}},50609:function(e,n,t){t.d(n,{gw:function(){return x}});var r=t(29439),a=t(1413),i=t(74954),c=t(24351),s=t(60393),o=t(26138),u=t(78661),l=(0,u.lp)(o.qH.lvl,[-1,91.1791,98.707664,106.23622,113.76477,121.29332,128.82188,136.35042,143.87898,151.40752,158.93608,169.99149,181.07625,192.19037,204.0482,215.939,227.86275,247.68594,267.5421,287.4312,303.82642,320.22522,336.62762,352.31927,368.01093,383.70255,394.43237,405.18146,415.94992,426.73764,437.5447,450.6,463.7003,476.84558,491.1275,502.55457,514.0121,531.4096,549.9796,568.5849,584.9965,605.67035,626.3862,646.0523,665.7556,685.4961,700.8394,723.3331,745.8653,768.4357,786.79193,809.5388,832.32904,855.16266,878.0396,899.4848,919.362,946.0396,974.7642,1003.5786,1030.077,1056.635,1085.2463,1113.9244,1149.2587,1178.0648,1200.2238,1227.6603,1257.243,1284.9174,1314.7529,1342.6652,1372.7524,1396.321,1427.3124,1458.3745,1482.3358,1511.9109,1541.5493,1569.1537,1596.8143,1622.4197,1648.074,1666.3761,1684.6782,1702.9803,1726.1047,1754.6715,1785.8666,1817.1375,1851.0603]),d=(0,u.WV)(40/9,(0,u.F9)(o.qH.total.eleMas,1400)),f=(0,u.ce)((0,u.WV)((0,u.Sm)(u.J_,d),l),{key:"crystallize",variant:"geo"}),h=(0,u.lp)(o.qH.lvl,[-1,17.165606,18.535048,19.904854,21.274902,22.6454,24.649612,26.640642,28.868587,31.36768,34.143345,37.201,40.66,44.446667,48.56352,53.74848,59.081898,64.420044,69.72446,75.12314,80.58478,86.11203,91.70374,97.24463,102.812645,108.40956,113.20169,118.102905,122.97932,129.72733,136.29291,142.67085,149.02902,155.41699,161.8255,169.10631,176.51808,184.07274,191.70952,199.55692,207.38205,215.3989,224.16566,233.50217,243.35057,256.06308,268.5435,281.52606,295.01364,309.0672,323.6016,336.75754,350.5303,364.4827,378.61917,398.6004,416.39825,434.387,452.95105,472.60623,492.8849,513.56854,539.1032,565.51056,592.53876,624.4434,651.47015,679.4968,707.79407,736.67145,765.64026,794.7734,824.67737,851.1578,877.74207,914.2291,946.74677,979.4114,1011.223,1044.7917,1077.4437,1109.9976,1142.9766,1176.3695,1210.1844,1253.8357,1288.9528,1325.4841,1363.4569,1405.0974,1446.8535]),v=(0,u.WV)(16,(0,u.F9)(o.qH.total.eleMas,2e3)),p=(0,a.Z)((0,a.Z)({},(0,s.O)(["overloaded","electrocharged","superconduct","shattered"],(function(e){var n=i.Ne[e],t=n.multi,a=(0,r.Z)(n.variants,1)[0];return(0,u.ce)((0,u.WV)((0,u.ce)((0,u.WV)(t,h),{asConst:true}),(0,u.Sm)(u.J_,v,o.qH.total["".concat(e,"_dmg_")]),o.qH.enemy["".concat(a,"_resMulti")]),{key:"".concat(e,"_hit"),variant:e})}))),{},{swirl:(0,s.O)(i.Ne.swirl.variants,(function(e){return(0,u.ce)((0,u.WV)((0,u.ce)((0,u.WV)(i.Ne.swirl.multi,h),{asConst:true}),(0,u.Sm)(u.J_,v,o.qH.total.swirl_dmg_),o.qH.enemy["".concat(e,"_resMulti")]),{key:"".concat(e,"_swirl_hit"),variant:e})}))}),x={anemo:{electroSwirl:p.swirl.electro,pyroSwirl:p.swirl.pyro,cryoSwirl:p.swirl.cryo,hydroSwirl:p.swirl.hydro,shattered:p.shattered},geo:(0,a.Z)((0,a.Z)({crystallize:f},Object.fromEntries(c.gs.map((function(e){return["".concat(e,"Crystallize"),(0,u.ce)((0,u.WV)((0,u.aQ)(2.5),f),{key:"".concat(e,"_crystallize"),variant:e})]})))),{},{shattered:p.shattered}),electro:{overloaded:p.overloaded,electrocharged:p.electrocharged,superconduct:p.superconduct,shattered:p.shattered},hydro:{electrocharged:p.electrocharged,shattered:p.shattered},pyro:{overloaded:p.overloaded,shattered:p.shattered},cryo:{superconduct:p.superconduct,shattered:p.shattered}}},66382:function(e,n,t){t.d(n,{Z:function(){return q}});var r=t(1413),a=t(29439),i=t(49670),c=t(24518),s=t(39504),o=t(61889),u=t(20890),l=t(94721),d=t(68870),f=t(72791),h=t(31284),v=t(3992),p=t(71310),x=t(68198),m=t(55221),Z=t(9321),y=t(25617),b=t(10157),j=t(66624),g=t(31148),k=t(2693),w=t(18327),C=t(78661),O=t(42320),_=t(24351),S=t(60393),H=t(80184);function q(e){var n=e.disabled,t=(0,f.useContext)(k.R).character,r=(0,f.useState)(!1),i=(0,a.Z)(r,2),s=i[0],o=i[1],u=(0,f.useCallback)((function(){return o(!0)}),[o]),l=(0,f.useCallback)((function(){return o(!1)}),[o]),d=(0,f.useMemo)((function(){return Object.keys(t.conditional).filter((function(e){return _.q2.includes(e)&&0!==Object.keys(t.conditional[e]).length})).length}),[t]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(c.Z,{fullWidth:!0,onClick:u,disabled:n,color:"info",children:(0,H.jsxs)("span",{children:["Default Artifact Set Effects Conditionals ",!!d&&(0,H.jsxs)(y.Z,{color:"success",children:[d," Selected"]})]})}),(0,H.jsx)(E,{open:s,onClose:l,artifactCondCount:d})]})}function E(e){var n=e.open,t=e.onClose,q=e.artifactCondCount,E=(0,f.useContext)(k.R),R=E.character,V=E.characterDispatch,M=(0,O.Z)(g.y.getAll,[]),D=(0,f.useCallback)((function(){var e=Object.fromEntries(Object.entries(R.conditional).filter((function(e){var n=(0,a.Z)(e,2),t=n[0];n[1];return!_.q2.includes(t)})));V({conditional:e})}),[R,V]);if(!M)return null;var W=Object.entries(g.y.setKeysByRarities(M)).reverse().flatMap((function(e){return(0,a.Z)(e,2)[1]}));return(0,H.jsx)(Z.Z,{open:n,onClose:t,children:(0,H.jsxs)(v.Z,{children:[(0,H.jsx)(s.Z,{children:(0,H.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,H.jsx)(o.ZP,{item:!0,flexGrow:1,children:(0,H.jsxs)(u.Z,{variant:"h6",children:["Default Artifact Set Effects ",!!q&&(0,H.jsxs)(y.Z,{color:"success",children:[q," Selected"]})]})}),(0,H.jsx)(o.ZP,{item:!0,children:(0,H.jsx)(c.Z,{onClick:D,color:"error",startIcon:(0,H.jsx)(i.Z,{}),children:"Reset All"})}),(0,H.jsx)(o.ZP,{item:!0,children:(0,H.jsx)(x.Z,{onClick:t})})]})}),(0,H.jsx)(l.Z,{}),(0,H.jsxs)(s.Z,{children:[(0,H.jsx)(p.Z,{sx:{mb:1},children:(0,H.jsx)(s.Z,{children:(0,H.jsx)(u.Z,{children:"Some artifacts provide conditional stats. This windows allows you to select those stats, so they can take effect during build calculation, when artifact sets are not specified."})})}),(0,H.jsx)(o.ZP,{container:!0,spacing:1,children:W.map((function(e){var n,t,a=M[e];return Object.values(a.setEffects).some((function(e){return e.document&&e.document.some((function(e){return"states"in e}))}))?(0,H.jsx)(o.ZP,{item:!0,xs:6,lg:4,children:(0,H.jsxs)(p.Z,{sx:{height:"100%"},children:[(0,H.jsxs)(d.Z,{className:"grad-".concat(a.rarity[0],"star"),width:"100%",sx:{display:"flex"},children:[(0,H.jsx)(d.Z,{component:"img",src:a.defIconSrc,sx:{height:100,width:"auto"}}),(0,H.jsxs)(d.Z,{sx:{flexGrow:1,px:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,H.jsx)(u.Z,{variant:"h6",children:null!==(n=a.name)&&void 0!==n?n:""}),(0,H.jsxs)(d.Z,{display:"flex",gap:1,children:[(0,H.jsx)(u.Z,{variant:"subtitle1",children:a.rarity.map((function(e,n){return(0,H.jsxs)("span",{children:[e," ",(0,H.jsx)(b.t,{stars:1})," ",n<a.rarity.length-1?"/ ":null]},e)}))}),(0,H.jsx)(m.Z,{title:(0,H.jsx)(u.Z,{children:(0,H.jsx)(j.v,{ns:"artifact_".concat(e,"_gen"),key18:"setEffects.4"})})})]})]})]}),(0,H.jsx)(k.R.Provider,{value:(t=E,(0,r.Z)((0,r.Z)({},t),{},{data:new w.w((0,r.Z)((0,r.Z)({},t.data.data[0]),{},{artSet:(0,S.O)(_.q2,(function(e){return(0,C.a9)(4)}))}),void 0)})),children:(0,H.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:Object.keys(a.setEffects).filter((function(e){var n;return null===(n=a.setEffects[e])||void 0===n?void 0:n.document.some((function(e){return"states"in e}))})).map((function(n){return(0,H.jsx)(h.Z,{setKey:e,setNumKey:parseInt(n),hideHeader:!0,conditionalsOnly:!0},n)}))})})]})},e):null}))})]}),(0,H.jsx)(l.Z,{}),(0,H.jsx)(s.Z,{sx:{py:1},children:(0,H.jsx)(x.Z,{large:!0,onClick:t})})]})})}},72814:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(29439),a=t(16002),i=t(66934),c=t(24518),s=t(39504),o=t(9585),u=t(94721),l=t(25028),d=t(23786),f=t(72791),h=t(3992),v=t(71310),p=t(91702),x=t(55942),m=t(9321),Z=t(2693),y=t(8430),b=t(79406),j=t(42320),g=t(60393),k=t(80184),w=(0,i.ZP)(c.Z)({color:"black",backgroundColor:"white","&:hover":{backgroundColor:"#e1e1e1"}});function C(e){var n=e.optimizationTarget,t=e.setTarget,i=e.disabled,c=void 0!==i&&i,o=(0,f.useState)(!1),u=(0,r.Z)(o,2),l=u[0],d=u[1],v=(0,f.useCallback)((function(){return!c&&d(!0)}),[d,c]),p=(0,f.useCallback)((function(){return d(!1)}),[d]),x=(0,f.useCallback)((function(e){p(),t(e)}),[p,t]),b=(0,f.useContext)(Z.R).data,j=(0,y.U)(b);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(w,{onClick:v,disabled:c,children:(0,k.jsx)(S,{optimizationTarget:n})}),(0,k.jsx)(m.Z,{open:l,onClose:p,children:(0,k.jsx)(h.Z,{children:(0,k.jsx)(s.Z,{children:(0,k.jsx)(a.ZP,{columns:{xs:1,sm:2,md:3},spacing:1,children:j.map((function(e){var n=(0,r.Z)(e,2),t=n[0],a=n[1];return(0,k.jsx)(O,{displayNs:a,sectionKey:t,setTarget:x},t)}))})})})})]})}function O(e){var n=e.displayNs,t=e.sectionKey,a=e.setTarget,i=(0,f.useContext)(Z.R).data,c=(0,j.Z)((0,y.f)(i,t),[i,t]);return(0,k.jsxs)(v.Z,{children:[c&&(0,k.jsx)(o.Z,{avatar:c.icon&&(0,k.jsx)(x.Z,{size:2,sx:{m:-1},src:c.icon}),title:c.title,action:c.action,titleTypographyProps:{variant:"subtitle1"}}),(0,k.jsx)(u.Z,{}),(0,k.jsx)(l.Z,{children:Object.entries(n).map((function(e){var n=(0,r.Z)(e,2),i=n[0],c=n[1];return(0,k.jsx)(H,{node:c,onClick:function(){return a([t,i])}},i)}))})]},t)}function _(){return(0,k.jsx)("b",{children:"Select an Optimization Target"})}function S(e){var n=e.optimizationTarget,t=(0,f.useContext)(Z.R).data,r=(0,j.Z)(n&&(0,y.f)(t,n[0]),[t,n]);if(!n||!r)return(0,k.jsx)(_,{});var a=(0,g.Hm)(t.getDisplay(),n);return a?(0,k.jsxs)("b",{children:[r.title," : ",(0,k.jsx)(p.Z,{color:a.info.variant,children:b.ZP.get(a.info.key)})]}):(0,k.jsx)(_,{})}function H(e){var n=e.node,t=e.onClick;return n.isEmpty?null:(0,k.jsx)(d.Z,{onClick:t,style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,k.jsx)(p.Z,{color:n.info.variant,children:b.ZP.get(n.info.key)})})}},88504:function(e,n,t){t.d(n,{_B:function(){return f},he:function(){return g},kJ:function(){return w},s7:function(){return k},t4:function(){return j}});var r=t(29439),a=t(37762),i=t(93433),c=t(1413),s=t(64737),o=t(69292),u=t(78661),l=t(24351),d=t(60393);function f(e,n,t,r,a,i){for(var s=i,o={pruneNodeRange:!0},u={pruneNodeRange:!0},l={reaffine:!0},d={pruneOrder:!0,pruneArtRange:!0,pruneNodeRange:!0},f=0;Object.values(s).some((function(e){return e}))&&f++<20;){if(s.pruneOrder){delete s.pruneOrder;var m=v(t,r,a);t!==m&&(t=m,s=(0,c.Z)((0,c.Z)({},s),o))}if(s.pruneArtRange){delete s.pruneArtRange;var Z=p(e,t,n);t!==Z&&(t=Z,s=(0,c.Z)((0,c.Z)({},s),u))}if(s.pruneNodeRange){delete s.pruneNodeRange;var y=x(e,t);e!==y&&(e=y,s=(0,c.Z)((0,c.Z)({},s),l))}if(s.reaffine){delete s.reaffine;var b=h(e,t),j=b.nodes,g=b.arts;e===j&&t===g||(e=j,t=g,s=(0,c.Z)((0,c.Z)({},s),d))}}return{nodes:e,arts:t}}function h(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=new Set,h=new Set;function v(e,n){n?f.add(e):e.operands.forEach((function(e){var n=e;f.has(n)&&h.add(n)}))}var p=new Set;if((0,s.aD)(e,(function(e){}),(function(e){var n=e.operation;switch(n){case"read":if("number"!==e.type||"dyn"!==e.path[0]||"add"!==e.accu)throw new Error("Found unsupported ".concat(n," node at path ").concat(e.path," when computing affine nodes"));p.add(e.path[1]),v(e,!0);break;case"add":v(e,e.operands.every((function(e){return f.has(e)})));break;case"mul":var t=e.operands.filter((function(e){return"const"!==e.operation}));v(e,0===t.length||1===t.length&&f.has(t[0]));break;case"const":if("string"===typeof e.value||void 0===e.value)throw new Error("Found constant ".concat(e.value," while compacting"));v(e,!0);break;case"res":case"threshold":case"sum_frac":case"max":case"min":v(e,!1);break;case"data":case"subscript":case"lookup":case"match":case"prio":case"small":throw new Error("Found unsupported ".concat(n," node when computing affine nodes"));default:(0,d.UT)(n)}})),(0,i.Z)(h).every((function(e){var n=e.operation;return"read"===n||"const"===n}))&&Object.keys(n.base).length===p.size)return{nodes:e,arts:n};var x=-1;function m(){for(;p.has("".concat(++x)););return"".concat(x)}e.forEach((function(e){return f.has(e)&&h.add(e)}));var Z=(0,i.Z)(h).filter((function(e){return"const"!==e.operation})),y=new Map(Z.map((function(e){return[e,t||"read"!==e.operation||"dyn"!==e.path[0]?(0,c.Z)((0,c.Z)({},(0,u.UF)(["dyn","".concat(m())])),{},{accu:"add"}):e]})));function b(e){var n=(0,o.CG)((0,i.Z)(y.keys()),{dyn:(0,d.xh)(e,(function(e){return(0,u.a9)(e)}))},(function(e){return!0}));return Object.fromEntries((0,i.Z)(y.values()).map((function(e,t){return[e.path[1],n[t].value]})))}for(var j={nodes:e=(0,s.uW)(e,(function(e){var n;return null!==(n=y.get(e))&&void 0!==n?n:e}),(function(e){return e})),arts:{base:b(n.base),values:(0,d.O)(l.eV,(function(e){return n.values[e].map((function(e){return{id:e.id,set:e.set,values:b(e.values)}}))}))}},g=Object.entries(b({})),k=0,w=Object.values(j.arts.values);k<w.length;k++){var C,O=w[k],_=(0,a.Z)(O);try{for(_.s();!(C=_.n()).done;){var S,H=C.value.values,q=(0,a.Z)(g);try{for(q.s();!(S=q.n()).done;){var E=(0,r.Z)(S.value,2),R=E[0],V=E[1];H[R]-=V}}catch(M){q.e(M)}finally{q.f()}}}catch(M){_.e(M)}finally{_.f()}}return j}function v(e,n,t){var a=!1,i=(0,d.O)(l.eV,(function(i){var c=e.values[i],s=c.filter((function(e){var a=0;return c.every((function(i){var c=Object.entries(i.values).every((function(n){var t=(0,r.Z)(n,2),a=t[0];return t[1]>=e.values[a]})),s=Object.entries(i.values).some((function(n){var t=(0,r.Z)(n,2),a=t[0];return t[1]>e.values[a]}));return!c||!(s||i.id>e.id)||t.has(e.set)&&e.set!==i.set||a++,a<n}))}));return s.length!==c.length&&(a=!0),s}));return a?{base:e.base,values:i}:e}function p(e,n,t){for(var a=Object.fromEntries(Object.entries(n.base).map((function(e){var n=(0,r.Z)(e,2),t=n[0],a=n[1];return[t,{min:a,max:a}]}))),i={arts:n},c=function(){var n=(0,d.O)(l.eV,(function(e){return Z(i.arts.values[e])})),r=(0,d.O)(l.eV,(function(e){return m(Object.entries(n).map((function(n){return n[0]===e?a:n[1]})).filter((function(e){return e})))})),c=!1,s=(0,d.O)(l.eV,(function(n){var a=i.arts.values[n].filter((function(a){var i=m([Z([a]),r[n]]),c=y(e,i);return e.every((function(e,n){var r;return c.get(e).max>=(null!==(r=t[n])&&void 0!==r?r:-1/0)}))}));return a.length!==i.arts.values[n].length&&(c=!0),a}));if(!c)return"break";i.arts={base:i.arts.base,values:s}};;){if("break"===c())break}return i.arts}function x(e,n){var t=y(e,m([Object.fromEntries(Object.entries(n.base).map((function(e){var n=(0,r.Z)(e,2),t=n[0],a=n[1];return[t,{min:a,max:a}]})))].concat((0,i.Z)(Object.values(n.values).map((function(e){return Z(e)}))))));return(0,s.uW)(e,(function(e){var n=e.operation,a=e.operands.map((function(e){return t.get(e)}));switch(n){case"threshold":var c=(0,r.Z)(a,4),s=c[0],o=c[1],l=c[2],d=c[3];if(s.min>=o.max)return e.operands[2];if(s.max<o.min)return(0,u.a9)(0);if(l.max===l.min&&d.max===d.min&&l.min===d.min&&isFinite(l.min))return(0,u.a9)(l.max);break;case"min":var f=e.operands.filter((function(e,n){var t=a[n];return a.every((function(e,n){return t.min<=e.max}))}));if(f.length<a.length)return u.VV.apply(void 0,(0,i.Z)(f));break;case"max":var h=e.operands.filter((function(e,n){var t=a[n];return a.every((function(e){return t.max>=e.min}))}));if(h.length<a.length)return u.Fp.apply(void 0,(0,i.Z)(h))}return e}),(function(e){return e}))}function m(e){var n={};return e.forEach((function(e){Object.entries(e).forEach((function(e){var t=(0,r.Z)(e,2),a=t[0],i=t[1];n[a]?(n[a].min+=i.min,n[a].max+=i.max):n[a]=(0,c.Z)({},i)}))})),n}function Z(e){var n={};return e.length&&(Object.keys(e[0].values).filter((function(n){return e.every((function(e){return e.values[n]}))})).forEach((function(t){return n[t]={min:e[0].values[t],max:e[0].values[t]}})),e.forEach((function(e){for(var t=e.values,a=0,i=Object.entries(t);a<i.length;a++){var c=(0,r.Z)(i[a],2),s=c[0],o=c[1];n[s]?(n[s].max<o&&(n[s].max=o),n[s].min>o&&(n[s].min=o)):n[s]={min:0,max:o}}}))),n}function y(e,n){var t=new Map;return(0,s.aD)(e,(function(e){}),(function(e){var a,i,c=e,s=c.operation,u=c.operands.map((function(e){return t.get(e)}));switch(s){case"read":if("dyn"!==c.path[0])throw new Error("Found non-dyn path ".concat(c.path," while computing range"));i=null!==(a=n[c.path[1]])&&void 0!==a?a:{min:0,max:0};break;case"const":i=b([c.value]);break;case"subscript":i=b(c.list);break;case"add":case"min":case"max":i={min:o.aj[s](u.map((function(e){return e.min}))),max:o.aj[s](u.map((function(e){return e.max})))};break;case"res":i={min:o.aj[s]([u[0].max]),max:o.aj[s]([u[0].min])};break;case"mul":i=u.reduce((function(e,n){return b([e.min*n.min,e.min*n.max,e.max*n.min,e.max*n.max])}));break;case"threshold":i=u[0].min>=u[1].max?u[2]:u[0].max<u[1].min?b([0]):b([0],[u[2]]);break;case"sum_frac":var l=(0,r.Z)(u,2),f=l[0],h=l[1],v={min:f.min+h.min,max:f.max+h.max};i=v.min<=0&&v.max>=0?f.min<=0&&f.max>=0?{min:NaN,max:NaN}:{min:-1/0,max:1/0}:b([f.min/v.min,f.min/v.max,f.max/v.min,f.max/v.max]);break;case"data":case"lookup":case"match":throw new Error("Unsupported ".concat(s," node"));default:(0,d.UT)(s)}t.set(c,i)})),t}function b(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Math.max.apply(Math,(0,i.Z)(e).concat((0,i.Z)(n.map((function(e){return e.max}))))),r=Math.min.apply(Math,(0,i.Z)(e).concat((0,i.Z)(n.map((function(e){return e.min})))));return{min:r,max:t}}function j(e,n){return{base:e.base,values:(0,d.O)(l.eV,(function(t){var r=n[t];switch(r.kind){case"id":return e.values[t].filter((function(e){return r.ids.has(e.id)}));case"exclude":return e.values[t].filter((function(e){return!r.sets.has(e.set)}));case"required":return e.values[t].filter((function(e){return r.sets.has(e.set)}))}}))}}function g(e,n){return e.flatMap((function(e){return e})).sort((function(e,n){return n.value-e.value})).slice(0,n)}function k(e){for(var n=.01,t=new Set(e.flatMap((function(e){return Object.values(e).map((function(e){return Math.round(e.plot/n)}))})));t.size>1500;)n*=2,t=new Set((0,i.Z)(t).map((function(e){return Math.round(e/2)})));var r,c={},s=(0,a.Z)(e);try{for(s.s();!(r=s.n()).done;)for(var o=r.value,u=0,l=Object.values(o);u<l.length;u++){var d=l[u],f=Math.round(d.plot/n)*n;(!c[f]||c[f].value<d.value)&&(c[f]=d)}}catch(h){s.e(h)}finally{s.f()}return c}function w(e){return l.eV.reduce((function(n,t){return n*e.values[t].length}),1)}},58003:function(e,n,t){t.d(n,{D1:function(){return k},mQ:function(){return b},vJ:function(){return g},wg:function(){return j}});var r=t(74165),a=t(29439),i=t(4942),c=t(37762),s=t(93433),o=t(1413),u=t(19272),l=t(26138),d=(t(73036),t(78661)),f=t(50765),h=t(24351),v=t(60393),p=t(88504),x=(0,r.Z)().mark(g),m=(0,r.Z)().mark(k),Z=(0,r.Z)().mark(w),y=(0,d.yY)((0,v.I8)({dyn:(0,o.Z)((0,o.Z)({},l.qH.art),l.qH.artSet)})),b={art:(0,v.O)([].concat((0,s.Z)(f.r),(0,s.Z)(f._)),(function(e){return y.dyn[e]})),artSet:(0,v.xh)(l.qH.artSet,(function(e,n){return y.dyn[n]}))};function j(e,n){var t,r={base:{},values:{flower:[],plume:[],goblet:[],circlet:[],sands:[]}},a=new Set,l=(0,c.Z)(e);try{for(l.s();!(t=l.n()).done;){var d,f=t.value,h=u.Z.mainStatValue(f.mainStatKey,f.rarity,Math.max(Math.min(n,4*f.rarity),f.level)),p={id:f.id,set:f.setKey,values:(0,o.Z)((d={},(0,i.Z)(d,f.setKey,1),(0,i.Z)(d,f.mainStatKey,f.mainStatKey.endsWith("_")?h/100:h),d),Object.fromEntries(f.substats.map((function(e){return[e.key,e.key.endsWith("_")?e.accurateValue/100:e.accurateValue]}))))};delete p.values[""],r.values[f.slotKey].push(p),Object.keys(p.values).forEach((function(e){return a.add(e)}))}}catch(Z){l.e(Z)}finally{l.f()}r.base=(0,v.O)((0,s.Z)(a),(function(e){return 0}));for(var x=0,m=Object.values(r.values);x<m.length;x++){m[x].push({id:"",values:{}})}return r}function g(e){var n,t,s,u,l,d;return(0,r.Z)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return d=function(e,t){var a,f,v,p,x,m;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((a=s(e,t)).length){n.next=3;break}return n.abrupt("return");case 3:if(!a.some((function(e){return!Object.keys(e).length}))){n.next=7;break}return n.next=6,(0,o.Z)({},l);case 6:return n.abrupt("return");case 7:f=h.eV[t-1],v=new Set(a.flatMap((function(e){return Object.keys(e)}))),p=(0,c.Z)(v),n.prev=10,m=(0,r.Z)().mark((function e(){var n,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x.value,l[f]={kind:"required",sets:new Set([n])},c=a.map((function(e){var t=e[n];return t?(0,o.Z)((0,o.Z)({},e),{},(0,i.Z)({},n,{min:t.min?t.min-1:0,max:t.max-1})):e})),e.delegateYield(d(c,t-1),"t0",4);case 4:case"end":return e.stop()}}),e)})),p.s();case 13:if((x=p.n()).done){n.next=17;break}return n.delegateYield(m(),"t0",15);case 15:n.next=13;break;case 17:n.next=22;break;case 19:n.prev=19,n.t1=n.catch(10),p.e(n.t1);case 22:return n.prev=22,p.f(),n.finish(22);case 25:return l[f]={kind:"exclude",sets:v},n.delegateYield(d(a,t-1),"t2",27);case 27:l[f]=u;case 28:case"end":return n.stop()}}),n,null,[[10,19,22,25]])},s=function(e,n){return e.map((function(e){e=(0,o.Z)({},e);for(var t=0,r=Object.entries(e);t<r.length;t++){var i=(0,a.Z)(r[t],2),c=i[0],s=i[1];0===s.min&&s.max>=n&&delete e[c]}return e})).filter((function(e){return Object.values(e).reduce((function(e,n){return e+n.min}),0)<=n}))},n=(0,r.Z)().mark(d),t=e.map((function(e){var n={};return e.forEach((function(e){var t=e.key,r=e.min,a=e.max;if(t){n[t]||(n[t]={min:0,max:5});var i=n[t];i.min=Math.max(i.min,null!==r&&void 0!==r?r:0),i.max=Math.min(i.max,null!==a&&void 0!==a?a:5)}})),n})).filter((function(e){return Object.values(e).every((function(e){return e.min<=e.max}))})),u={kind:"exclude",sets:new Set},l=(0,v.O)(h.eV,(function(e){return u})),f.delegateYield(d(t,5),"t0",7);case 7:case"end":return f.stop()}}),x)}function k(e,n,t){var a,s,u;return(0,r.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:t<1e4&&(t=1e4),a=(0,c.Z)(n),l.prev=2,u=(0,r.Z)().mark((function n(){var a,c,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=s.value,c=[a],u=(0,r.Z)().mark((function n(){var a,s,u,l,d,f,v;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=c.pop(),s=(0,p.t4)(e,a),!((u=(0,p.kJ)(s))<=t)){n.next=8;break}if(!u){n.next=7;break}return n.next=7,a;case 7:return n.abrupt("return","continue");case 8:if(l=h.eV.map((function(e){return{slot:e,sets:new Set(s.values[e].map((function(e){return e.set})))}})).filter((function(e){return e.sets.size>1})),l.length){n.next=12;break}return n.delegateYield(w(s,a,t),"t0",11);case 11:return n.abrupt("return","continue");case 12:d=l.reduce((function(e,n){return e.sets.size<n.sets.size?e:n})),f=d.sets,v=d.slot,f.forEach((function(e){return c.push((0,o.Z)((0,o.Z)({},a),{},(0,i.Z)({},v,{kind:"required",sets:new Set([e])})))}));case 14:case"end":return n.stop()}}),n)}));case 3:if(!c.length){n.next=10;break}return n.delegateYield(u(),"t0",5);case 5:if("continue"!==n.t0){n.next=8;break}return n.abrupt("continue",3);case 8:n.next=3;break;case 10:case"end":return n.stop()}}),n)})),a.s();case 5:if((s=a.n()).done){l.next=9;break}return l.delegateYield(u(),"t0",7);case 7:l.next=5;break;case 9:l.next=14;break;case 11:l.prev=11,l.t1=l.catch(2),a.e(l.t1);case 14:return l.prev=14,a.f(),l.finish(14);case 17:case"end":return l.stop()}}),m,null,[[2,11,14,17]])}function w(e,n,t){var a,s;return(0,r.Z)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:a=[n],s=(0,r.Z)().mark((function n(){var s,u,l,d,f,v,x,m,Z,y,b,j,g;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=a.pop(),u=(0,p.t4)(e,s),!((l=(0,p.kJ)(u))<=t)){n.next=8;break}if(!l){n.next=7;break}return n.next=7,s;case 7:return n.abrupt("return","continue");case 8:if(d=h.eV.map((function(e){return{slot:e,length:u.values[e].length}})).filter((function(e){return e.length>1})),f=d.reduce((function(e,n){return e.length<n.length?e:n})),v=f.slot,x=f.length,m=Math.ceil(l/t),Z=Math.min(m,x),y=Array(Z).fill(0).map((function(e){return new Set})),u.values[v].forEach((function(e,n){var t=e.id;return y[n%Z].add(t)})),!(m>x)){n.next=18;break}y.forEach((function(e){return a.push((0,o.Z)((0,o.Z)({},s),{},(0,i.Z)({},v,{kind:"id",ids:e})))})),n.next=35;break;case 18:b=(0,c.Z)(y),n.prev=19,b.s();case 21:if((j=b.n()).done){n.next=27;break}return g=j.value,n.next=25,(0,o.Z)((0,o.Z)({},s),{},(0,i.Z)({},v,{kind:"id",ids:g}));case 25:n.next=21;break;case 27:n.next=32;break;case 29:n.prev=29,n.t0=n.catch(19),b.e(n.t0);case 32:return n.prev=32,b.f(),n.finish(32);case 35:case"end":return n.stop()}}),n,null,[[19,29,32,35]])}));case 2:if(!a.length){u.next=9;break}return u.delegateYield(s(),"t0",4);case 4:if("continue"!==u.t0){u.next=7;break}return u.abrupt("continue",2);case 7:u.next=2;break;case 9:case"end":return u.stop()}}),Z)}}}]);
//# sourceMappingURL=574.32ab03a1.chunk.js.map