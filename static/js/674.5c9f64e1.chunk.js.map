{"version":3,"file":"static/js/674.5c9f64e1.chunk.js","mappings":"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","sources":["Components/Artifact/ArtifactCardPico.tsx","Components/Artifact/ArtifactSetSlotTooltip.tsx","Components/BootstrapTooltip.tsx","Components/Weapon/WeaponFullCard.tsx","Components/Character/CharacterCard.tsx","Components/Character/CharacterCardPico.tsx","Components/QuestionTooltip.tsx","Components/FieldDisplay.tsx","Components/Weapon/WeaponCardPico.tsx","Components/Weapon/WeaponNameTooltip.tsx","Data/Artifacts/ArtifactSheet.tsx","Data/Resonance.tsx","Data/Weapons/WeaponSheet.tsx","DataContext.tsx","ReactHooks/useCharSelectionCallback.tsx","Util/CharacterUtil.tsx","ReactHooks/useCharacter.tsx","ReactHooks/useCharacterReducer.tsx","ReactHooks/useTeamData.tsx"],"sourcesContent":["import { Box, Typography } from '@mui/material';\nimport Assets from '../../Assets/Assets';\nimport { ArtifactSheet } from '../../Data/Artifacts/ArtifactSheet';\nimport KeyMap, { cacheValueString } from '../../KeyMap';\nimport usePromise from '../../ReactHooks/usePromise';\nimport { ICachedArtifact } from '../../Types/artifact';\nimport { allElementsWithPhy, SlotKey } from '../../Types/consts';\nimport BootstrapTooltip from '../BootstrapTooltip';\nimport CardDark from '../Card/CardDark';\nimport SqBadge from '../SqBadge';\nimport StatIcon, { uncoloredEleIcons } from '../StatIcon';\nimport ArtifactSetSlotTooltip from './ArtifactSetSlotTooltip';\n\nexport default function ArtifactCardPico({ artifactObj: art, slotKey: key }: { artifactObj: ICachedArtifact | undefined, slotKey: SlotKey }) {\n  const artifactSheet = usePromise(art?.setKey && ArtifactSheet.get(art.setKey), [art?.setKey])\n  // Blank artifact slot icon\n  if (!art || !artifactSheet)\n    return <CardDark sx={{ display: \"flex\", flexDirection: \"column\", height: \"100%\" }}>\n      <Box sx={{ width: \"100%\", pb: \"100%\", position: \"relative\", }}>\n        <Box\n          sx={{\n            position: \"absolute\",\n            width: \"70%\", height: \"70%\",\n            left: \"50%\", top: \"50%\",\n            transform: \"translate(-50%, -50%)\",\n            opacity: 0.7\n          }}\n          component=\"img\"\n          src={Assets.slot[key]}\n        />\n      </Box>\n    </CardDark>\n\n  // Actual artifact icon + info\n  const { mainStatKey, rarity, level, mainStatVal } = art\n  const levelVariant = \"roll\" + (Math.floor(Math.max(level, 0) / 4) + 1)\n  const element = allElementsWithPhy.find(ele => art.mainStatKey.includes(ele))\n  const color = element ?? \"secondary\"\n\n  return <CardDark sx={{ display: \"flex\", flexDirection: \"column\", position: \"relative\" }}>\n    <ArtifactSetSlotTooltip slotKey={key} sheet={artifactSheet}>\n      <Box\n        component=\"img\"\n        className={`grad-${rarity}star`}\n        src={artifactSheet.slotIcons[key]}\n        maxWidth=\"100%\"\n        maxHeight=\"100%\"\n      />\n    </ArtifactSetSlotTooltip>\n    <Typography sx={{ position: \"absolute\", m: -0.2, lineHeight: 1, pointerEvents: \"none\" }} variant=\"subtitle2\"><SqBadge color={levelVariant as any}>+{level}</SqBadge></Typography>\n    <Typography variant='h6' sx={{ position: \"absolute\", bottom: 0, right: 0, lineHeight: 1, }}>\n      <BootstrapTooltip placement=\"top\" title={<Typography>{cacheValueString(mainStatVal, KeyMap.unit(mainStatKey))}{KeyMap.unit(mainStatKey)} {KeyMap.getStr(mainStatKey)}</Typography>} disableInteractive>\n        <SqBadge color={color} sx={{ p: 0.25 }}>{element ? uncoloredEleIcons[element] : StatIcon[mainStatKey]}</SqBadge>\n      </BootstrapTooltip>\n    </Typography>\n  </CardDark>\n}\n","import { Box, Skeleton, Typography } from \"@mui/material\";\nimport { ReactElement, ReactNode, Suspense } from \"react\";\nimport { ArtifactSheet } from \"../../Data/Artifacts/ArtifactSheet\";\nimport { SlotKey } from \"../../Types/consts\";\nimport BootstrapTooltip from \"../BootstrapTooltip\";\nimport { artifactSlotIcon } from \"./SlotNameWIthIcon\";\n\ntype Data = {\n  slotKey: SlotKey,\n  sheet: ArtifactSheet | undefined,\n  children: ReactElement<any, any> & ReactNode,\n}\nexport default function ArtifactSetSlotTooltip({ slotKey, sheet, children }: Data) {\n  const fallback = <Box>\n    <Skeleton variant=\"text\" width={100} />\n    <Skeleton variant=\"text\" width={100} />\n  </Box>\n  const title = <Suspense fallback={fallback}>\n    <Box>\n      <Typography><strong>{sheet?.name}</strong></Typography>\n      <Typography>{artifactSlotIcon(slotKey)} {sheet?.getSlotName?.(slotKey)}</Typography>\n    </Box>\n  </Suspense>\n\n  return <BootstrapTooltip placement=\"top\" title={title} disableInteractive>\n    {children}\n  </BootstrapTooltip>\n}\n","import { styled, Tooltip, tooltipClasses, TooltipProps } from \"@mui/material\";\n\nconst BootstrapTooltip = styled(({ className, ...props }: TooltipProps) => (\n  <Tooltip {...props} arrow classes={{ popper: className }} />\n))(({ theme }) => ({\n  [`& .${tooltipClasses.arrow}`]: {\n    color: theme.palette.common.black,\n  },\n  [`& .${tooltipClasses.tooltip}`]: {\n    backgroundColor: theme.palette.common.black,\n    maxWidth: 500,\n  },\n}));\nexport default BootstrapTooltip\n","import { Box, Typography } from '@mui/material';\nimport { useContext, useMemo } from 'react';\nimport WeaponSheet from '../../Data/Weapons/WeaponSheet';\nimport { DatabaseContext } from '../../Database/Database';\nimport { uiInput as input } from '../../Formula';\nimport { computeUIData, dataObjForWeapon } from '../../Formula/api';\nimport { NodeDisplay } from '../../Formula/uiData';\nimport { valueString } from '../../KeyMap';\nimport usePromise from '../../ReactHooks/usePromise';\nimport { ICachedWeapon } from '../../Types/weapon';\nimport CardDark from '../Card/CardDark';\nimport SqBadge from '../SqBadge';\nimport StatIcon from '../StatIcon';\n\nexport default function WeaponFullCard({ weaponId }: { weaponId: string }) {\n  const { database } = useContext(DatabaseContext)\n  const weapon = database._getWeapon(weaponId)\n  const weaponSheet = usePromise(weapon?.key && WeaponSheet.get(weapon.key), [weapon?.key])\n  const UIData = useMemo(() => weaponSheet && weapon && computeUIData([weaponSheet.data, dataObjForWeapon(weapon)]), [weaponSheet, weapon])\n  if (!weapon || !weaponSheet || !UIData) return null;\n  return <CardDark>\n    <Box display=\"flex\" >\n      <Box flexShrink={1} maxWidth=\"35%\" display=\"flex\" flexDirection=\"column\" alignContent=\"flex-end\" className={`grad-${weaponSheet.rarity}star`} >\n        <Box\n          component=\"img\"\n          src={weaponSheet.img}\n          width=\"100%\"\n          height=\"auto\"\n          sx={{ mt: \"auto\" }}\n        />\n      </Box>\n      <Box flexGrow={1} sx={{ p: 1 }}>\n        <Typography variant=\"body2\" gutterBottom><strong>{weaponSheet?.name}</strong></Typography>\n        <Typography variant='subtitle1' sx={{ display: \"flex\", gap: 1 }} gutterBottom>\n          <SqBadge color=\"primary\">Lv. {WeaponSheet.getLevelString(weapon as ICachedWeapon)}</SqBadge>\n          {weaponSheet.hasRefinement && <SqBadge color=\"info\">R{weapon.refinement}</SqBadge>}\n        </Typography>\n        <Typography variant='subtitle1' sx={{ display: \"flex\", gap: 1 }} >\n          <WeaponStat node={UIData.get(input.weapon.main)} />\n          <WeaponStat node={UIData.get(input.weapon.sub)} />\n        </Typography>\n\n      </Box>\n    </Box>\n  </CardDark>\n}\nfunction WeaponStat({ node }: { node: NodeDisplay }) {\n  if (!node.info.key) return null\n  const val = valueString(node.value, node.unit, !node.unit ? 0 : undefined)\n  return <SqBadge color=\"secondary\">{StatIcon[node.info.key]} {val}</SqBadge>\n}\n","import { Favorite, FavoriteBorder } from '@mui/icons-material';\nimport { Box, CardActionArea, CardContent, Chip, Grid, IconButton, Skeleton, Typography } from '@mui/material';\nimport { Suspense, useCallback, useContext, useMemo } from 'react';\nimport { ascensionMaxLevel } from '../../Data/LevelData';\nimport { DatabaseContext } from '../../Database/Database';\nimport { DataContext, dataContextObj, TeamData } from '../../DataContext';\nimport { uiInput as input } from '../../Formula';\nimport KeyMap from '../../KeyMap';\nimport CharacterCardPico from './CharacterCardPico';\nimport useCharacterReducer from '../../ReactHooks/useCharacterReducer';\nimport useTeamData from '../../ReactHooks/useTeamData';\nimport { ICachedArtifact } from '../../Types/artifact';\nimport { allSlotKeys, CharacterKey, ElementKey, SlotKey } from '../../Types/consts';\nimport { range } from '../../Util/Util';\nimport ArtifactCardPico from '../Artifact/ArtifactCardPico';\nimport CardLight from '../Card/CardLight';\nimport ConditionalWrapper from '../ConditionalWrapper';\nimport { NodeFieldDisplay } from '../FieldDisplay';\nimport SqBadge from '../SqBadge';\nimport { Stars } from '../StarDisplay';\nimport StatIcon from '../StatIcon';\nimport WeaponCardPico from '../Weapon/WeaponCardPico';\nimport WeaponFullCard from '../Weapon/WeaponFullCard';\n\ntype CharacterCardProps = {\n  characterKey: CharacterKey | \"\",\n  onClick?: (characterKey: CharacterKey, tab: string) => void,\n  onClickHeader?: (characterKey: CharacterKey, tab: string) => void,\n  artifactChildren?: Displayable,\n  weaponChildren?: Displayable,\n  characterChildren?: Displayable,\n  footer?: Displayable,\n  isTeammateCard?: boolean,\n}\nexport default function CharacterCard({ characterKey, artifactChildren, weaponChildren, characterChildren, onClick, onClickHeader, footer, isTeammateCard }: CharacterCardProps) {\n  const { teamData: teamDataContext } = useContext(DataContext)\n  const teamData = useTeamData(teamDataContext ? \"\" : characterKey) ?? (teamDataContext as TeamData | undefined)\n  const { character, characterSheet, target: data } = teamData?.[characterKey] ?? {}\n  const onClickHandler = useCallback(() => characterKey && onClick?.(characterKey, \"overview\"), [characterKey, onClick])\n  const actionWrapperFunc = useCallback(\n    children => <CardActionArea onClick={onClickHandler} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\n    [onClickHandler],\n  )\n  const characterDispatch = useCharacterReducer(characterKey)\n  if (!teamData || !character || !characterSheet || !data) return null;\n  const dataContextObj: dataContextObj = {\n    character,\n    data,\n    characterSheet,\n    mainStatAssumptionLevel: 0,\n    teamData,\n    characterDispatch\n  }\n\n  return <Suspense fallback={<Skeleton variant=\"rectangular\" sx={{ width: \"100%\", height: \"100%\", minHeight: 350 }} />}>\n    <DataContext.Provider value={dataContextObj}>\n      <CardLight sx={{ height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\n        <Box sx={{ display: \"flex\", position: \"absolute\", zIndex: 2, opacity: 0.7 }}>\n          <IconButton sx={{ p: 0.5 }} onClick={event => characterDispatch({ favorite: !character.favorite })}>\n            {character.favorite ? <Favorite /> : <FavoriteBorder />}\n          </IconButton>\n        </Box>\n        <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc} >\n          <Header onClick={!onClick ? onClickHeader : undefined} />\n          <CardContent sx={{ width: \"100%\", display: \"flex\", flexDirection: \"column\", gap: 1, flexGrow: 1 }}>\n            <Artifacts />\n            {!isTeammateCard && <Grid container columns={4} spacing={0.75}>\n              <Grid item xs={1} height=\"100%\">\n                <WeaponCardPico weaponId={character.equippedWeapon} />\n              </Grid>\n              {range(0, 2).map(i => <Grid key={i} item xs={1} height=\"100%\"><CharacterCardPico characterKey={character.team[i]} index={i} /></Grid>)}\n            </Grid>}\n            {isTeammateCard && <WeaponFullCard weaponId={character.equippedWeapon} />}\n            {!isTeammateCard && <Stats />}\n            {weaponChildren}\n            {artifactChildren}\n            {characterChildren}\n          </CardContent>\n        </ConditionalWrapper>\n        {footer}\n      </CardLight>\n    </DataContext.Provider>\n  </Suspense>\n}\nfunction Header({ onClick }: { onClick?: (characterKey: CharacterKey, tab: string) => void }) {\n  const { data, characterSheet } = useContext(DataContext)\n  const characterKey = data.get(input.charKey).value as CharacterKey\n  const characterEle = data.get(input.charEle).value as ElementKey\n  const characterLevel = data.get(input.lvl).value\n  const constellation = data.get(input.constellation).value\n  const ascension = data.get(input.asc).value\n  const autoBoost = data.get(input.bonus.auto).value\n  const skillBoost = data.get(input.bonus.skill).value\n  const burstBoost = data.get(input.bonus.burst).value\n\n  const tAuto = data.get(input.total.auto).value\n  const tSkill = data.get(input.total.skill).value\n  const tBurst = data.get(input.total.burst).value\n\n  const actionWrapperFunc = useCallback(\n    children => <CardActionArea onClick={() => characterKey && onClick?.(characterKey, \"overview\")} sx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}>{children}</CardActionArea>,\n    [onClick, characterKey],\n  )\n  return <ConditionalWrapper condition={!!onClick} wrapper={actionWrapperFunc} >\n    <Box display=\"flex\"\n      position=\"relative\"\n      className={`grad-${characterSheet.rarity}star`}\n      sx={{\n        \"&::before\": {\n          content: '\"\"',\n          display: \"block\", position: \"absolute\",\n          left: 0, top: 0,\n          width: \"100%\", height: \"100%\",\n          opacity: 0.7,\n          backgroundImage: `url(${characterSheet.bannerImg})`, backgroundPosition: \"center\", backgroundSize: \"cover\",\n        }\n      }}\n      width=\"100%\" >\n      <Box flexShrink={1} sx={{ maxWidth: { xs: \"40%\", lg: \"40%\" } }} alignSelf=\"flex-end\" display=\"flex\" flexDirection=\"column\" zIndex={1}>\n        <Box\n          component=\"img\"\n          src={characterSheet.thumbImg}\n          width=\"100%\"\n          height=\"auto\"\n          maxWidth={256}\n          sx={{ mt: \"auto\" }}\n        />\n      </Box>\n      <Box flexGrow={1} sx={{ py: 1, pr: 1 }} display=\"flex\" flexDirection=\"column\" zIndex={1}>\n        <Chip label={<Typography variant=\"subtitle1\">{characterSheet.name}</Typography>} size=\"small\" color={characterEle} sx={{ opacity: 0.85 }} />\n        <Grid container spacing={1} flexWrap=\"nowrap\">\n          <Grid item sx={{ textShadow: \"0 0 5px gray\" }}>\n            <Typography component=\"span\" variant=\"h6\" whiteSpace=\"nowrap\" >Lv. {characterLevel}</Typography>\n            <Typography component=\"span\" variant=\"h6\" color=\"text.secondary\">/{ascensionMaxLevel[ascension]}</Typography>\n          </Grid>\n          <Grid item>\n            <Typography variant=\"h6\"><SqBadge>C{constellation}</SqBadge></Typography>\n          </Grid>\n        </Grid>\n        <Grid container spacing={1} flexWrap=\"nowrap\">\n          <Grid item>\n            <Chip color={autoBoost ? \"info\" : \"secondary\"} label={<strong >{tAuto}</strong>} />\n          </Grid>\n          <Grid item>\n            <Chip color={skillBoost ? \"info\" : \"secondary\"} label={<strong >{tSkill}</strong>} />\n          </Grid>\n          <Grid item>\n            <Chip color={burstBoost ? \"info\" : \"secondary\"} label={<strong >{tBurst}</strong>} />\n          </Grid>\n        </Grid>\n        <Typography mt={1} ><Stars stars={characterSheet.rarity} colored /></Typography>\n      </Box>\n    </Box>\n  </ConditionalWrapper>\n}\nfunction Artifacts() {\n  const { database } = useContext(DatabaseContext)\n  const { data } = useContext(DataContext)\n  const artifacts = useMemo(() =>\n    allSlotKeys.map(k => [k, database._getArt(data.get(input.art[k].id).value ?? \"\")]),\n    [data, database]) as Array<[SlotKey, ICachedArtifact | undefined]>;\n\n  return <Grid direction=\"row\" container spacing={0.75} columns={5}>\n    {artifacts.map(([key, art]: [SlotKey, ICachedArtifact | undefined]) =>\n      <Grid item key={key} xs={1}>\n        <ArtifactCardPico artifactObj={art} slotKey={key} />\n      </Grid>\n    )}\n  </Grid>\n}\n\nfunction Stats() {\n  const { data } = useContext(DataContext)\n  return <Box sx={{ width: \"100%\" }} >\n    {Object.values(data.getDisplay().basic).map(n => <NodeFieldDisplay key={n.info.key} node={n} />)}\n    {data.get(input.special).info.key && <Box sx={{ display: \"flex\", gap: 1, alignItems: \"center\" }} >\n      <Typography flexGrow={1}><strong>Specialized:</strong></Typography>\n      {StatIcon[data.get(input.special).info.key!]}\n      <Typography>{KeyMap.get(data.get(input.special).info.key!)}</Typography>\n    </Box>}\n  </Box>\n}\n","import { Box, Skeleton, Typography } from '@mui/material';\nimport { Suspense } from 'react';\nimport Assets from '../../Assets/Assets';\nimport CharacterSheet from '../../Data/Characters/CharacterSheet';\nimport { ascensionMaxLevel } from '../../Data/LevelData';\nimport useCharacter from '../../ReactHooks/useCharacter';\nimport usePromise from '../../ReactHooks/usePromise';\nimport { CharacterKey } from '../../Types/consts';\nimport BootstrapTooltip from '../BootstrapTooltip';\nimport CardDark from '../Card/CardDark';\nimport SqBadge from '../SqBadge';\nimport StatIcon from '../StatIcon';\n\nexport default function CharacterCardPico({ characterKey = \"\", index = -1 }: { characterKey: CharacterKey | \"\", index?: number }) {\n  const teammateSheet = usePromise(CharacterSheet.get(characterKey), [characterKey])\n  const character = useCharacter(characterKey)\n  if (teammateSheet && character) {\n    const title = <Suspense fallback={<Skeleton variant=\"text\" width={100} />}>\n      <Typography>{teammateSheet.elementKey && StatIcon[teammateSheet.elementKey]} {teammateSheet.name}</Typography>\n    </Suspense>\n\n    return <CardDark sx={{ maxWidth: 128, position: \"relative\", display: \"flex\", flexDirection: \"column\", }}>\n      <BootstrapTooltip placement=\"top\" title={title}>\n        <Box display=\"flex\" className={`grad-${teammateSheet.rarity}star`}>\n          <Box\n            component=\"img\"\n            src={teammateSheet.thumbImgSide}\n            maxWidth=\"100%\"\n            maxHeight=\"100%\"\n            sx={{ transform: \"scale(1.4)\", transformOrigin: \"bottom\" }}\n          />\n        </Box>\n      </BootstrapTooltip>\n      <Typography variant='subtitle1' sx={{ position: \"absolute\", mt: -0.2, lineHeight: 1, pointerEvents: \"none\" }}>\n        <SqBadge color=\"primary\" >{character.level}/{ascensionMaxLevel[character.ascension]}</SqBadge>\n      </Typography>\n      <Typography variant='subtitle1' sx={{ position: \"absolute\", bottom: 0, right: 0, lineHeight: 1, pointerEvents: \"none\" }}>\n        <SqBadge color=\"secondary\" >C{character.constellation}</SqBadge>\n      </Typography>\n    </CardDark>\n  } else {\n    return <CardDark sx={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", py: \"12.5%\" }}>\n      <Box component=\"img\" src={Assets.team[`team${index + 2}`]} sx={{ width: \"75%\", height: \"auto\", opacity: 0.7 }} />\n    </CardDark>\n  }\n}\n","import { faQuestionCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Box, TooltipProps } from \"@mui/material\";\nimport BootstrapTooltip from \"./BootstrapTooltip\";\n\ninterface ITooltipProps extends Omit<TooltipProps, \"children\"> {\n  className?: string,\n}\nconst QuestionTooltip = ({ className, ...props }: ITooltipProps) =>\n  <BootstrapTooltip placement=\"top\" {...props} className={className}>\n    <Box component=\"span\" sx={{ cursor: \"help\" }}><FontAwesomeIcon icon={faQuestionCircle} /></Box>\n  </BootstrapTooltip>\n\nexport default QuestionTooltip\n","import { Groups } from \"@mui/icons-material\";\nimport { Box, List, ListItem, Skeleton, styled, Typography } from \"@mui/material\";\nimport React, { Suspense, useContext, useMemo } from 'react';\nimport { DataContext } from \"../DataContext\";\nimport { NodeDisplay } from \"../Formula/api\";\nimport KeyMap, { valueString } from \"../KeyMap\";\nimport { IBasicFieldDisplay, IFieldDisplay } from \"../Types/IFieldDisplay\";\nimport { evalIfFunc } from \"../Util/Util\";\nimport ColorText from \"./ColoredText\";\nimport QuestionTooltip from \"./QuestionTooltip\";\nimport StatIcon from \"./StatIcon\";\n\nexport default function FieldsDisplay({ fields }: { fields: IFieldDisplay[] }) {\n  return <FieldDisplayList sx={{ m: 0 }}>\n    {fields.map((field, i) => <FieldDisplay key={i} field={field} component={ListItem} />)}\n  </FieldDisplayList>\n}\n\nfunction FieldDisplay({ field, component }: { field: IFieldDisplay, component?: React.ElementType }) {\n  const { data, oldData } = useContext(DataContext)\n  const canShow = useMemo(() => field?.canShow?.(data) ?? true, [field, data])\n  if (!canShow) return null\n  if (\"node\" in field) {\n    const node = data.get(field.node)\n    if (node.isEmpty) return null\n    if (oldData) {\n      const oldNode = oldData.get(field.node)\n      const oldValue = oldNode.isEmpty ? 0 : oldNode.value\n      return <NodeFieldDisplay node={node} oldValue={oldValue} suffix={field.textSuffix} component={component} />\n    }\n    else return <NodeFieldDisplay node={node} suffix={field.textSuffix} component={component} />\n  }\n  return <BasicFieldDisplay field={field} component={component} />\n}\n\nfunction BasicFieldDisplay({ field, component }: { field: IBasicFieldDisplay, component?: React.ElementType }) {\n  const { data } = useContext(DataContext)\n  const v = evalIfFunc(field.value, data)\n  const variant = evalIfFunc(field.variant, data)\n  const text = field.text && <span>{field.text}</span>\n  const suffix = field.textSuffix && <span>{field.textSuffix}</span>\n  return <Box width=\"100%\" sx={{ display: \"flex\", justifyContent: \"space-between\", gap: 1 }} component={component} >\n    <Typography color={`${variant}.main`} sx={{ display: \"flex\", gap: 1, alignItems: \"center\" }}>{text}{suffix}</Typography>\n    <Typography >{typeof v === \"number\" ? v.toFixed?.(field.fixed) : v}{field.unit}</Typography>\n  </Box>\n}\n\nexport function NodeFieldDisplay({ node, oldValue, suffix, component }: { node: NodeDisplay, oldValue?: number, suffix?: Displayable, component?: React.ElementType }) {\n  if (node.isEmpty) return null\n\n  suffix = suffix && <span>{suffix}</span>\n  const icon = node.info.key && StatIcon[node.info.key]\n  const fieldText = node.info.key ? KeyMap.get(node.info.key) : \"\"\n  const isTeamBuff = node.info.isTeamBuff\n  const fieldFormulaText = node.formula\n  let fieldVal = \"\" as Displayable\n  if (oldValue) {\n    const diff = node.value - oldValue\n    fieldVal = <span>{valueString(oldValue, node.unit)}{diff > 0.0001 || diff < -0.0001 ? <ColorText color={diff > 0 ? \"success\" : \"error\"}> {diff > 0 ? \"+\" : \"\"}{valueString(diff, node.unit)}</ColorText> : \"\"}</span>\n  } else fieldVal = valueString(node.value, node.unit)\n  const formulaTextOverlay = !!node.formula && <QuestionTooltip title={<Typography><Suspense fallback={<Skeleton variant=\"rectangular\" width={300} height={30} />}>{fieldFormulaText}</Suspense></Typography>} />\n  return <Box width=\"100%\" sx={{ display: \"flex\", justifyContent: \"space-between\", gap: 1 }} component={component} >\n    <Typography color={`${node.info.variant}.main`} sx={{ display: \"flex\", gap: 1, alignItems: \"center\" }}>{!!isTeamBuff && <Groups />}{icon}{fieldText}{suffix}</Typography>\n    <Typography sx={{ display: \"flex\", gap: 1, alignItems: \"center\" }} >{fieldVal}{formulaTextOverlay}</Typography>\n  </Box>\n}\n\nexport const FieldDisplayList = styled(List)(({ theme }) => ({\n  borderRadius: theme.shape.borderRadius,\n  overflow: \"hidden\",\n  margin: 0,\n  '> .MuiListItem-root:nth-of-type(even)': {\n    backgroundColor: theme.palette.contentDark.main\n  },\n  '> .MuiListItem-root:nth-of-type(odd)': {\n    backgroundColor: theme.palette.contentDarker.main\n  },\n}));\n","import { Box, Typography } from '@mui/material';\nimport { useContext, useMemo } from 'react';\nimport WeaponSheet from '../../Data/Weapons/WeaponSheet';\nimport { DatabaseContext } from '../../Database/Database';\nimport { uiInput as input } from '../../Formula';\nimport { computeUIData, dataObjForWeapon } from '../../Formula/api';\nimport { NodeDisplay } from '../../Formula/uiData';\nimport { valueString } from '../../KeyMap';\nimport usePromise from '../../ReactHooks/usePromise';\nimport CardDark from '../Card/CardDark';\nimport SqBadge from '../SqBadge';\nimport StatIcon from '../StatIcon';\nimport WeaponNameTooltip from './WeaponNameTooltip';\n\nexport default function WeaponCardPico({ weaponId }: { weaponId: string }) {\n  const { database } = useContext(DatabaseContext)\n  const weapon = database._getWeapon(weaponId)\n  const weaponSheet = usePromise(weapon?.key && WeaponSheet.get(weapon.key), [weapon?.key])\n  const UIData = useMemo(() => weaponSheet && weapon && computeUIData([weaponSheet.data, dataObjForWeapon(weapon)]), [weaponSheet, weapon])\n  if (!weapon || !weaponSheet || !UIData) return null;\n\n  const tooltipAddl = <Box>\n    <WeaponStatPico node={UIData.get(input.weapon.main)} />\n    <WeaponStatPico node={UIData.get(input.weapon.sub)} />\n  </Box>\n\n  return <CardDark sx={{ height: \"100%\", maxWidth: 128, position: \"relative\", display: \"flex\", flexDirection: \"column\", }}>\n    <Box display=\"flex\" flexDirection=\"column\" alignContent=\"flex-end\" className={`grad-${weaponSheet.rarity}star`}>\n      <WeaponNameTooltip sheet={weaponSheet} addlText={tooltipAddl}>\n        <Box\n          component=\"img\"\n          src={weaponSheet.img}\n          maxWidth=\"100%\"\n          maxHeight=\"100%\"\n          sx={{ mt: \"auto\" }}\n        />\n      </WeaponNameTooltip>\n    </Box>\n    <Typography variant='subtitle1' sx={{ position: \"absolute\", mt: -0.2, lineHeight: 1, pointerEvents: \"none\" }}>\n      <SqBadge color=\"primary\">{WeaponSheet.getLevelString(weapon)}</SqBadge>\n    </Typography>\n    {weaponSheet.hasRefinement && <Typography variant='subtitle1' sx={{ position: \"absolute\", bottom: 0, right: 0, lineHeight: 1, pointerEvents: \"none\" }}>\n      <SqBadge color=\"secondary\">R{weapon.refinement}</SqBadge>\n    </Typography>}\n  </CardDark>\n}\nfunction WeaponStatPico({ node }: { node: NodeDisplay }) {\n  if (!node.info.key) return null\n  const val = valueString(node.value, node.unit, !node.unit ? 0 : undefined)\n  return <Typography>{StatIcon[node.info.key]} {val}</Typography>\n}\n","import { Skeleton, Typography } from \"@mui/material\";\nimport { ReactElement, ReactNode, Suspense } from \"react\";\nimport Assets from \"../../Assets/Assets\";\nimport WeaponSheet from \"../../Data/Weapons/WeaponSheet\";\nimport BootstrapTooltip from \"../BootstrapTooltip\";\nimport ImgIcon from \"../Image/ImgIcon\";\n\ntype Data = {\n  sheet: WeaponSheet,\n  addlText?: any,\n  children: ReactElement<any, any> & ReactNode,\n}\nexport default function WeaponNameTooltip({ sheet, addlText, children }: Data) {\n  const title = <Suspense fallback={<Skeleton variant=\"text\" width={100} />}>\n    <Typography><ImgIcon src={Assets.weaponTypes[sheet.weaponType]} /> {sheet.name}</Typography>\n    {addlText}\n  </Suspense>\n  return <BootstrapTooltip placement=\"top\" title={title} disableInteractive>\n    {children}\n  </BootstrapTooltip>\n}\n","import { ArtifactSlotKey } from \"pipeline\";\nimport ImgIcon from \"../../Components/Image/ImgIcon\";\nimport SqBadge from \"../../Components/SqBadge\";\nimport { Translate } from \"../../Components/Translate\";\nimport { input } from \"../../Formula\";\nimport { mergeData } from \"../../Formula/api\";\nimport { Data } from \"../../Formula/type\";\nimport { UIData } from \"../../Formula/uiData\";\nimport { allSlotKeys, ArtifactRarity, ArtifactSetKey, SetNum, SlotKey } from \"../../Types/consts\";\nimport { DocumentSection, IDocumentHeader } from \"../../Types/sheet\";\nimport { st } from \"../SheetUtil\";\n\n// TODO: remove typecasting once all sheets populated\nconst artifactSheets = import(\".\").then(imp => imp.default)\n\nexport interface IArtifactSheet {\n  name: string, // only to stored the English name for OCR, otherwise, should come from localization pipeline\n  rarity: readonly ArtifactRarity[],\n  icons: Dict<SlotKey, string>,\n  setEffects: Dict<SetNum, SetEffectEntry>\n}\nexport interface SetEffectEntry {\n  document: DocumentSection[],\n}\n\n\nconst tr = (setKey: string, strKey: string) => <Translate ns={`artifact_${setKey}_gen`} key18={strKey} />\nconst allData = artifactSheets.then(as => mergeData(Object.values(as).map(s => s.data)))\nexport class ArtifactSheet {\n  readonly sheet: IArtifactSheet\n  readonly key: ArtifactSetKey\n  readonly data: Data\n  constructor(setKey: ArtifactSetKey, sheet: IArtifactSheet, data: Data) {\n    this.sheet = sheet\n    this.key = setKey\n    this.data = data\n  }\n\n  get name() { return tr(this.key, \"setName\") }\n  get defIconSrc() {\n    const slotKey = this.slots[0]\n    if (!this.slotIcons[slotKey]) return undefined\n    return this.slotIcons[slotKey]\n  }\n  get defIcon() { return <ImgIcon src={this.defIconSrc} sx={{ fontSize: \"1.5em\" }} /> }\n  /**\n   * @deprecated use src directly\n   */\n  get nameWithIcon() {\n    const slotKey = this.slots[0]\n    return <span><ImgIcon src={this.slotIcons[slotKey]} /> {tr(this.key, \"setName\")}</span>\n  }\n\n  //This is only for OCR, because we only scan in english right now.\n  get nameRaw(): string { return this.sheet.name }\n  get rarity(): readonly ArtifactRarity[] { return this.sheet.rarity }\n  get slots(): SlotKey[] {\n    switch (this.key) {\n      case \"PrayersForDestiny\":\n      case \"PrayersForIllumination\":\n      case \"PrayersForWisdom\":\n      case \"PrayersToSpringtime\": return [\"circlet\"]\n      default: return [...allSlotKeys]\n    }\n  }\n  get slotIcons(): Dict<SlotKey, string> { return this.sheet.icons }\n  get setEffects(): Dict<SetNum, SetEffectEntry> { return this.sheet.setEffects }\n  getSlotName = (slotKey: SlotKey) => tr(this.key, `pieces.${slotKey}.name`)\n  getSlotDesc = (slotKey: SlotKey) => tr(this.key, `pieces.${slotKey}.desc`)\n  setEffectDesc = (setNum: SetNum): Displayable => tr(this.key, `setEffects.${setNum}`)\n  setEffectDocument = (setNum: SetNum) => this.sheet.setEffects[setNum]?.document\n\n  static get(set: ArtifactSetKey | undefined): Promise<ArtifactSheet> | undefined { return set ? artifactSheets.then(a => a[set]) : undefined }\n  static get getAll() { return artifactSheets }\n  static get getAllData() { return allData }\n  static setKeysByRarities(sheets: StrictDict<ArtifactSetKey, ArtifactSheet>): Dict<ArtifactRarity, ArtifactSetKey[]> {\n    const grouped: Dict<ArtifactRarity, ArtifactSetKey[]> = {}\n    Object.entries(sheets).forEach(([key, sheet]) => {\n      const rarity = Math.max(...sheet.rarity) as ArtifactRarity\n      if (grouped[rarity]) grouped[rarity]!.push(key)\n      else grouped[rarity] = [key]\n    })\n    return grouped\n  }\n\n  static setEffects(sheets: StrictDict<ArtifactSetKey, ArtifactSheet>, data: UIData) {\n    const artifactSetEffect: Partial<Record<ArtifactSetKey, SetNum[]>> = {}\n    Object.entries(sheets).forEach(([setKey, sheet]) => {\n      const setNums = (Object.keys(sheet.setEffects).map(k => parseInt(k)) as SetNum[]).filter(sn => sheet.hasEnough(sn, data))\n      if (setNums.length) artifactSetEffect[setKey] = setNums\n    })\n    return artifactSetEffect\n  }\n  hasEnough = (setNum: SetNum, data: UIData) => (data.get(input.artSet[this.key]).value ?? 0) >= setNum\n}\nexport const setHeaderTemplate = (setKey: ArtifactSetKey, icons: Partial<Record<ArtifactSlotKey, string>>): ((setNum: SetNum) => IDocumentHeader) => {\n  const tr = (strKey: string) => <Translate ns={`artifact_${setKey}_gen`} key18={strKey} />\n  return (setNum: SetNum) => ({\n    title: tr(\"setName\"),\n    icon: <ImgIcon size={2} sx={{ m: -1 }} src={icons.flower ?? icons.circlet ?? \"\"} />,\n    action: <SqBadge color=\"success\">{st(`${setNum}set`)}</SqBadge>,\n    description: tr(`setEffects.${setNum}`)\n  })\n}\n","import StatIcon from \"../Components/StatIcon\";\nimport { Translate } from \"../Components/Translate\";\nimport { tally } from \"../Formula\";\nimport { inferInfoMut } from \"../Formula/api\";\nimport { UIData } from \"../Formula/uiData\";\nimport { equal, greaterEq, min, percent, sum } from \"../Formula/utils\";\nimport { allElements, allElementsWithPhy } from \"../Types/consts\";\nimport { DocumentSection } from \"../Types/sheet\";\nimport { objectKeyValueMap } from \"../Util/Util\";\nimport { condReadNode, sgt, st } from \"./SheetUtil\";\nconst tr = (strKey: string) => <Translate ns=\"elementalResonance_gen\" key18={strKey} />\nconst trm = (strKey: string) => <Translate ns=\"elementalResonance\" key18={strKey} />\n\ntype IResonance = {\n  name: Displayable,\n  desc: Displayable,\n  icon: Displayable,\n  canShow: (data: UIData) => boolean\n  sections: DocumentSection[]\n}\n\n// Protective Canopy\nconst pcNodes = objectKeyValueMap(allElementsWithPhy, e => [`${e}_res_`,\ngreaterEq(sum(...allElementsWithPhy.map(i => min(1, tally[i]))), 4, percent(0.15))])\n\nconst protectiveCanopy: IResonance = {\n  name: tr(\"ProtectiveCanopy.name\"),\n  desc: tr(\"ProtectiveCanopy.desc\"),\n  icon: <span>{StatIcon.anemo} {StatIcon.geo} {StatIcon.pyro} {StatIcon.hydro} {StatIcon.cryo} {StatIcon.electro} x4</span>,\n  canShow: (data: UIData) => allElements.filter(e => data.get(tally[e]).value >= 1).length === 4,\n  sections: [{\n    teamBuff: true,\n    fields: Object.values(pcNodes).map(node => ({ node }))\n  }]\n}\n\n// Fervent Flames\nconst ffNode = greaterEq(tally.pyro, 2, percent(0.25))\nconst ferventFlames: IResonance = {\n  name: tr(\"FerventFlames.name\"),\n  desc: tr(\"FerventFlames.desc\"),\n  icon: <span>{StatIcon.pyro} {StatIcon.pyro}</span>,\n  canShow: (data: UIData) => data.get(tally.pyro).value >= 2,\n  sections: [{\n    teamBuff: true,\n    fields: [{\n      text: st(\"effectDuration.cryo\"),\n      value: -40,\n      unit: \"%\"\n    }, {\n      node: ffNode\n    }]\n  }]\n}\n\n// Soothing Waters\nconst swNode = greaterEq(tally.hydro, 2, percent(0.30))\nconst soothingWaters: IResonance = {\n  name: tr(\"SoothingWater.name\"),\n  desc: tr(\"SoothingWater.desc\"),\n  icon: <span>{StatIcon.hydro} {StatIcon.hydro}</span>,\n  canShow: (data: UIData) => data.get(tally.hydro).value >= 2,\n  sections: [{\n    teamBuff: true,\n    fields: [{\n      text: st(\"effectDuration.pyro\"),\n      value: -40,\n      unit: \"%\"\n    }, {\n      node: swNode\n    }]\n  }]\n}\n\n//ShatteringIce\nconst condSIPath = [\"resonance\", \"ShatteringIce\"]\nconst condSI = condReadNode(condSIPath)\nconst siNode = greaterEq(tally.cryo, 2, equal(condSI, \"on\", percent(0.15)))\nconst shatteringIce: IResonance = {\n  name: tr(\"ShatteringIce.name\"),\n  desc: tr(\"ShatteringIce.desc\"),\n  icon: <span>{StatIcon.cryo} {StatIcon.cryo}</span>,\n  canShow: (data: UIData) => data.get(tally.cryo).value >= 2,\n  sections: [{\n    teamBuff: true,\n    fields: [{\n      text: st(\"effectDuration.electro\"),\n      value: -40,\n      unit: \"%\"\n    }]\n  }, {\n    teamBuff: true,\n    path: condSIPath,\n    value: condSI,\n    name: trm(\"ShatteringIce.cond\"),\n    header: {\n      title: tr(\"ShatteringIce.name\"),\n      icon: StatIcon.cryo,\n    },\n    states: {\n      on: {\n        fields: [{\n          node: siNode\n        }]\n      }\n    }\n  }]\n}\n\n// High Voltage\nconst highVoltage: IResonance = {\n  name: tr(\"HighVoltage.name\"),\n  desc: tr(\"HighVoltage.desc\"),\n  icon: <span>{StatIcon.electro} {StatIcon.electro}</span>,\n  canShow: (data: UIData) => data.get(tally.electro).value >= 2,\n  sections: [{\n    teamBuff: true,\n    fields: [{\n      text: st(\"effectDuration.hydro\"),\n      value: -40,\n      unit: \"%\"\n    }]\n  }]\n}\n\n// Impetuous Winds\nconst iwNodeStam = greaterEq(tally.anemo, 2, percent(-0.15))\nconst iwNodeMove = greaterEq(tally.anemo, 2, percent(0.1))\nconst iwNodeCD = greaterEq(tally.anemo, 2, percent(-0.05))\nconst impetuousWinds: IResonance = {\n  name: tr(\"ImpetuousWinds.name\"),\n  desc: tr(\"ImpetuousWinds.desc\"),\n  icon: <span>{StatIcon.anemo} {StatIcon.anemo}</span>,\n  canShow: (data: UIData) => data.get(tally.anemo).value >= 2,\n  sections: [{\n    teamBuff: true,\n    fields: [{\n      node: iwNodeStam\n    }, {\n      node: iwNodeMove\n    }, {\n      node: iwNodeCD\n    }]\n  }]\n}\n\n// Enduring Rock\nconst condERPath = [\"resonance\", \"EnduringRock\"]\nconst condER = condReadNode(condERPath)\nconst erNodeshield_ = greaterEq(tally.geo, 2, percent(0.15))\nconst erNodeDMG_ = greaterEq(tally.geo, 2, equal(condER, \"on\", percent(0.15)))\nconst erNodeRes_ = greaterEq(tally.geo, 2, equal(condER, \"on\", percent(-0.2)))\nconst enduringRock: IResonance = {\n  name: tr(\"EnduringRock.name\"),\n  desc: tr(\"EnduringRock.desc\"),\n  icon: <span>{StatIcon.geo} {StatIcon.geo}</span>,\n  canShow: (data: UIData) => data.get(tally.geo).value >= 2,\n  sections: [{\n    teamBuff: true,\n    text: tr(\"EnduringRock.desc\"),\n    fields: [{\n      node: erNodeshield_\n    }]\n  }, {\n    teamBuff: true,\n    path: condERPath,\n    value: condER,\n    header: {\n      title: tr(\"EnduringRock.name\"),\n      icon: StatIcon.geo,\n    },\n    name: st(\"protectedByShield\"),\n    states: {\n      on: {\n        fields: [{\n          node: erNodeDMG_\n        }, {\n          node: erNodeRes_\n        }, {\n          text: sgt(\"duration\"),\n          value: 15,\n          unit: \"s\"\n        }]\n      }\n    }\n  }]\n}\n\nexport const resonanceSheets: IResonance[] = [\n  protectiveCanopy,\n  ferventFlames,\n  soothingWaters,\n  shatteringIce,\n  highVoltage,\n  impetuousWinds,\n  enduringRock,\n]\n\nexport const resonanceData = inferInfoMut({\n  premod: {\n    ...pcNodes,\n    atk_: ffNode,\n    incHeal_: swNode,\n    staminaDec_: iwNodeStam,\n    moveSPD_: iwNodeMove,\n    cdRed_: iwNodeCD,\n    shield_: erNodeshield_,\n    all_dmg_: erNodeDMG_,\n    geo_enemyRes_: erNodeRes_,\n  },\n  total: {\n    // TODO: this crit rate is on-hit. Might put it in a `hit.critRate_` namespace later.\n    critRate_: siNode\n  }\n})\n","import type { WeaponData } from 'pipeline';\nimport ImgIcon from '../../Components/Image/ImgIcon';\nimport SqBadge from '../../Components/SqBadge';\nimport { Translate } from '../../Components/Translate';\nimport { input } from '../../Formula';\nimport { Data } from '../../Formula/type';\nimport { Rarity, WeaponKey, WeaponTypeKey } from '../../Types/consts';\nimport { DocumentSection, IDocumentHeader } from '../../Types/sheet';\nimport { ICachedWeapon } from '../../Types/weapon';\nimport { ambiguousLevel, ambiguousLevelLow, ascensionMaxLevel, lowRarityMilestoneLevels, milestoneLevels } from '../LevelData';\n\nconst weaponSheets = import('.').then(imp => imp.default)\n\nexport interface IWeaponSheet {\n  icon: string,\n  iconAwaken: string,\n  document: DocumentSection[],\n}\n\nexport default class WeaponSheet {\n  readonly key: WeaponKey;\n  readonly sheet: IWeaponSheet;\n  readonly data: Data;\n  readonly rarity: Rarity;\n  readonly weaponType: WeaponTypeKey;\n  constructor(key: WeaponKey, weaponSheet: IWeaponSheet, weaponData: WeaponData, data: Data) {\n    this.rarity = weaponData.rarity\n    this.weaponType = weaponData.weaponType\n    this.key = key\n    this.sheet = weaponSheet\n    this.data = data\n  }\n  static get = (weaponKey: WeaponKey | \"\"): Promise<WeaponSheet> | undefined => weaponKey ? weaponSheets.then(w => w[weaponKey]) : undefined\n  static get getAll() { return weaponSheets }\n  static getWeaponsOfType = (sheets: StrictDict<WeaponKey, WeaponSheet>, weaponType: string): Dict<WeaponKey, WeaponSheet> => Object.fromEntries(Object.entries(sheets).filter(([_, sheet]) => (sheet as WeaponSheet).weaponType === weaponType))\n  static getLevelString = (weapon: ICachedWeapon): string => `${weapon.level}/${ascensionMaxLevel[weapon.ascension]}`\n  tr = (strKey: string) => <Translate ns={`weapon_${this.key}_gen`} key18={strKey} />\n  get name() { return this.tr(\"name\") }\n  get hasRefinement() { return this.rarity > 2 }\n  get passiveName() { return this.hasRefinement ? this.tr(\"passiveName\") : \"\" }\n  get description() { return this.tr(\"description\") }\n  passiveDescription = (refineIndex: number) => this.hasRefinement ? this.tr(`passiveDescription.${refineIndex}`) : \"\"\n  get img() { return this.sheet.icon }\n  get imgAwaken() { return this.sheet.iconAwaken }\n  get document() { return this.sheet.document }\n  get milestoneLevels(): Array<[number, number]> {\n    if (this.hasRefinement) return milestoneLevels as any\n    else return lowRarityMilestoneLevels as any\n  }\n  ambiguousLevel(level: number) {\n    if (this.hasRefinement) return ambiguousLevel(level)\n    else return ambiguousLevelLow(level)\n  }\n}\nexport const headerTemplate = (weaponKey: WeaponKey, img: string, imgAwaken: string, action?: Displayable): IDocumentHeader => {\n  const tr = (strKey: string) => <Translate ns={`weapon_${weaponKey}_gen`} key18={strKey} />\n  return {\n    title: tr(`passiveName`),\n    icon: data => <ImgIcon size={2} sx={{ m: -1 }} src={data.get(input.weapon.asc).value < 2 ? img : imgAwaken} />,\n    action: action && <SqBadge color=\"success\">{action}</SqBadge>,\n    description: data => tr(`passiveDescription.${data.get(input.weapon.refineIndex).value}`)\n  }\n}\n","import { createContext } from \"react\"\nimport CharacterSheet from \"./Data/Characters/CharacterSheet\"\nimport { UIData } from \"./Formula/uiData\"\nimport { ICachedCharacter } from \"./Types/character\"\nimport { CharacterKey } from \"./Types/consts\"\nimport { ICachedWeapon } from \"./Types/weapon\"\nimport WeaponSheet from \"./Data/Weapons/WeaponSheet\"\nimport { characterReducerAction } from \"./ReactHooks/useCharacterReducer\";\nexport type TeamData = Partial<Record<CharacterKey, {\n  target: UIData\n  buffs: Dict<CharacterKey, UIData>\n  character: ICachedCharacter\n  weapon: ICachedWeapon\n  characterSheet: CharacterSheet\n  weaponSheet: WeaponSheet,\n}>>\nexport type dataContextObj = {\n  character: ICachedCharacter\n  characterSheet: CharacterSheet\n  data: UIData\n  oldData?: UIData\n  mainStatAssumptionLevel: number\n  teamData: TeamData\n  characterDispatch: (action: characterReducerAction) => void\n}\n\n// If using this context without a Provider, then stuff will crash...\n// In theory, none of the components that uses this context should work without a provider...\nexport const DataContext = createContext({} as dataContextObj)\n","import { useCallback, useContext } from \"react\";\nimport { useNavigate, useMatch } from \"react-router\";\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\";\nimport { initialCharacter } from \"../Util/CharacterUtil\";\nimport { DatabaseContext } from \"../Database/Database\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { defaultInitialWeapon } from \"../Util/WeaponUtil\";\n\n/**\n * Basically a history hook to go to the dedicated character page. Will create the character if it doesn't exist.\n * @returns\n */\nexport default function useCharSelectionCallback() {\n  const { database } = useContext(DatabaseContext)\n  const navigate = useNavigate()\n  // Used to maintain the previous tab, if there is one\n  let { params: { tab = \"\" } } = useMatch({ path: \"/characters/:charKey/:tab\", end: false }) ?? { params: { tab: \"\" } }\n  const cb = useCallback(\n    async (characterKey: CharacterKey) => {\n      const character = database._getChar(characterKey)\n      let navTab = tab\n      // Create a new character + weapon, with linking if char isnt in db.\n      if (!character) {\n        const newChar = initialCharacter(characterKey)\n        database.updateChar(newChar)\n        const characterSheet = await CharacterSheet.get(characterKey)\n        if (!characterSheet) return\n        const weapon = defaultInitialWeapon(characterSheet.weaponTypeKey)\n        const weaponId = database.createWeapon(weapon)\n        database.setWeaponLocation(weaponId, characterKey)\n        // If we are navigating to a new character,\n        // redirect to Overview, regardless of previous tab.\n        // Trying to enforce a certain UI flow when building new characters\n        navTab = \"\"\n      }\n      navigate(`/characters/${characterKey}/${navTab}`)\n    },\n    [navigate, database, tab],\n  )\n  return cb\n}\n","import { initialBuildSettings } from \"../PageCharacter/CharacterDisplay/Tabs/TabOptimize/BuildSetting\"\nimport { ICachedCharacter } from \"../Types/character\"\nimport { allSlotKeys, CharacterKey } from \"../Types/consts\"\nimport { objectKeyMap } from \"./Util\"\n\nexport function initialCharacter(key: CharacterKey): ICachedCharacter {\n  return {\n    key, // the game character this is based off\n    level: 1,\n    ascension: 0,\n    hitMode: \"avgHit\",\n    reactionMode: \"\",\n    equippedArtifacts: objectKeyMap(allSlotKeys, () => \"\"),\n    equippedWeapon: \"\",\n    conditional: {},\n    bonusStats: {},\n    enemyOverride: {},\n    buildSettings: initialBuildSettings(),\n    talent: {\n      auto: 1,\n      skill: 1,\n      burst: 1,\n    },\n    infusionAura: \"\",\n    constellation: 0,\n    team: [\"\", \"\", \"\"],\n    compareData: false,\n    favorite: false,\n  }\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport { DatabaseContext } from \"../Database/Database\";\nimport { CharacterKey } from \"../Types/consts\";\n\nexport default function useCharacter(characterKey: CharacterKey | \"\" | undefined = \"\") {\n  const { database } = useContext(DatabaseContext)\n  const [character, updateCharacter] = useState(database._getChar(characterKey))\n  useEffect(() => updateCharacter(database._getChar(characterKey)), [database, characterKey])\n  useEffect(() =>\n    characterKey ? database.followChar(characterKey, updateCharacter) : undefined,\n    [characterKey, updateCharacter, database])\n  return character\n}\n","import { useCallback, useContext } from \"react\";\nimport { DatabaseContext } from \"../Database/Database\";\nimport { ICachedCharacter } from \"../Types/character\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { deepClone } from \"../Util/Util\";\n\ntype characterEquipWeapon = {\n  type: \"weapon\", id: string\n}\ntype characterReducerBonusStatsAction = {\n  type: \"editStats\",\n  statKey: string\n  value: any | undefined\n}\ntype characterReducerenemyOverrideAction = {\n  type: \"enemyOverride\",\n  statKey: string\n  value: any | undefined\n}\ntype characterReducerResetStatsAction = {\n  type: \"resetStats\",\n  statKey: string\n}\ntype characterTeamAction = {\n  type: \"team\",\n  index: number,\n  charKey: CharacterKey | \"\"\n}\nexport type characterReducerAction = characterEquipWeapon | characterReducerBonusStatsAction | characterReducerenemyOverrideAction | characterReducerResetStatsAction | characterTeamAction | Partial<ICachedCharacter>\n\nexport default function useCharacterReducer(characterKey: CharacterKey | \"\") {\n  const { database } = useContext(DatabaseContext)\n\n  return useCallback((action: characterReducerAction): void => {\n    if (!characterKey) return\n\n    if (\"type\" in action) switch (action.type) {\n      case \"weapon\":\n        database.setWeaponLocation(action.id, characterKey)\n        break\n      case \"enemyOverride\": {\n        const character = database._getChar(characterKey)!\n        const enemyOverride = character.enemyOverride\n        const { statKey, value } = action\n        if (enemyOverride[statKey] === value) break\n        database.updateChar({ ...character, enemyOverride: { ...enemyOverride, [statKey]: value } })\n        break\n      }\n      case \"editStats\": {\n        const character = database._getChar(characterKey)!\n        const { statKey, value } = action\n\n        const bonusStats = deepClone(character.bonusStats)\n\n        if (bonusStats[statKey] === value) break\n        if (!value) delete bonusStats[statKey]\n        else bonusStats[statKey] = value\n\n        database.updateChar({ ...character, bonusStats })\n        break\n      }\n      case \"resetStats\": {\n        const character = database._getChar(characterKey)!\n        const { statKey } = action\n\n        const bonusStats = character.bonusStats\n        delete bonusStats[statKey]\n\n        database.updateChar({ ...character, bonusStats })\n        break\n      }\n      case \"team\": {\n        const character = database._getChar(characterKey)!\n        const { team } = character\n\n        const { index, charKey: newCharKey } = action\n        const oldCharKey = team[index]\n        team[index] = newCharKey\n\n        // move the old char to \"inventory\"\n        if (oldCharKey) {\n          const oldChar = database._getChar(oldCharKey)\n          if (oldChar) database.updateChar({ ...oldChar, team: [\"\", \"\", \"\"] })\n        }\n\n        // unequip new char from its old teammates\n        if (newCharKey) {\n          const newChar = database._getChar(newCharKey)\n          if (newChar) {\n            newChar.team.forEach(t => {\n              if (!t) return\n              const tChar = database._getChar(t)\n              tChar && database.updateChar({ ...tChar, team: tChar.team.map(c => c === newCharKey ? \"\" : c) as ICachedCharacter[\"team\"] })\n            })\n          }\n        }\n\n        // equip new char to new teammates\n        team.forEach((t, tind) => {\n          if (!t) return\n          const newChar = database._getChar(t)\n          if (newChar) database.updateChar({ ...newChar, team: [characterKey, ...team].filter((_, i) => i !== tind + 1) as ICachedCharacter[\"team\"] })\n        })\n\n        // update src character\n        database.updateChar({ ...character, team })\n      }\n    } else\n      database.updateChar({ ...database._getChar(characterKey)!, ...action })\n  }, [characterKey, database])\n\n}\n","import { useContext, useEffect, useMemo } from \"react\";\nimport { ArtifactSheet } from \"../Data/Artifacts/ArtifactSheet\";\nimport CharacterSheet from \"../Data/Characters/CharacterSheet\";\nimport { resonanceData } from \"../Data/Resonance\";\nimport WeaponSheet from \"../Data/Weapons/WeaponSheet\";\nimport { ArtCharDatabase, DatabaseContext } from \"../Database/Database\";\nimport { TeamData } from \"../DataContext\";\nimport { common } from \"../Formula\";\nimport { dataObjForArtifact, dataObjForCharacter, dataObjForWeapon, uiDataForTeam } from \"../Formula/api\";\nimport { Data } from \"../Formula/type\";\nimport { ICachedArtifact } from \"../Types/artifact\";\nimport { ICachedCharacter } from \"../Types/character\";\nimport { CharacterKey } from \"../Types/consts\";\nimport { ICachedWeapon } from \"../Types/weapon\";\nimport { objectMap } from \"../Util/Util\";\nimport useForceUpdate from \"./useForceUpdate\";\nimport usePromise from \"./usePromise\";\n\ntype TeamDataBundle = {\n  team: CharacterKey[],\n  teamData: Dict<CharacterKey, Data[]>\n  teamBundle: Dict<CharacterKey, CharBundle>\n}\n\nexport default function useTeamData(characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0, overrideArt?: ICachedArtifact[], overrideWeapon?: ICachedWeapon): TeamData | undefined {\n  const { database } = useContext(DatabaseContext)\n  const [dbDirty, setDbDirty] = useForceUpdate()\n  const teamDataBundle = usePromise(getTeamData(database, characterKey, mainStatAssumptionLevel, overrideArt, overrideWeapon), [dbDirty, characterKey, database, mainStatAssumptionLevel, overrideArt, overrideWeapon])\n\n  const { team = [], teamData, teamBundle } = teamDataBundle ?? {}\n\n  useEffect(() =>\n    characterKey ? database.followChar(characterKey, setDbDirty) : undefined,\n    [characterKey, setDbDirty, database])\n\n  useEffect(() =>\n    characterKey ? database.followAnyArt(setDbDirty) : undefined,\n    [characterKey, setDbDirty, database])\n\n  const [t1, t2, t3, t4] = team\n  useEffect(() =>\n    t1 ? database.followChar(t1, setDbDirty) : undefined,\n    [t1, setDbDirty, database])\n  useEffect(() =>\n    t2 ? database.followChar(t2, setDbDirty) : undefined,\n    [t2, setDbDirty, database])\n  useEffect(() =>\n    t3 ? database.followChar(t3, setDbDirty) : undefined,\n    [t3, setDbDirty, database])\n  useEffect(() =>\n    t4 ? database.followChar(t4, setDbDirty) : undefined,\n    [t4, setDbDirty, database])\n\n  const calcData = useMemo(() => {\n    return teamData && uiDataForTeam(teamData, characterKey as CharacterKey)\n  }, [teamData, characterKey])\n  const data = useMemo(() => {\n    if (!calcData || !teamBundle) return\n    return objectMap(calcData, (obj, ck) => {\n      const { data: _, ...rest } = teamBundle[ck]!\n      return { ...obj, ...rest }\n    })\n  }, [calcData, teamBundle])\n\n  return data\n}\n\nexport async function getTeamData(database: ArtCharDatabase, characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0, overrideArt?: ICachedArtifact[], overrideWeapon?: ICachedWeapon):\n  Promise<TeamDataBundle | undefined> {\n  if (!characterKey) return\n  const char1DataBundle = await getCharDataBundle(database, characterKey, mainStatAssumptionLevel, overrideArt, overrideWeapon)\n  if (!char1DataBundle) return\n  const team: CharacterKey[] = [characterKey]\n  const teamBundle = { [characterKey]: char1DataBundle }\n  const teamData: Dict<CharacterKey, Data[]> = { [characterKey]: char1DataBundle.data }\n\n  await Promise.all(char1DataBundle.character.team.map(async (ck) => {\n    if (!ck) return\n    const databundle = await getCharDataBundle(database, ck)\n    if (!databundle) return\n    team.push(ck)\n    teamBundle[ck] = databundle\n    teamData[ck] = databundle.data\n  }))\n\n  return { team, teamData, teamBundle }\n}\ntype CharBundle = {\n  character: ICachedCharacter,\n  weapon: ICachedWeapon,\n  characterSheet: CharacterSheet,\n  weaponSheet: WeaponSheet,\n  data: Data[]\n}\nasync function getCharDataBundle(database: ArtCharDatabase, characterKey: CharacterKey | \"\", mainStatAssumptionLevel: number = 0, overrideArt?: ICachedArtifact[], overrideWeapon?: ICachedWeapon)\n  : Promise<CharBundle | undefined> {\n  if (!characterKey) return\n  const character = database._getChar(characterKey)\n  if (!character) return\n  const weapon = overrideWeapon ?? database._getWeapon(character.equippedWeapon)\n  if (!weapon) return\n  const [characterSheet, weaponSheet, artifactSheetsData] = await Promise.all([\n    CharacterSheet.get(characterKey),\n    WeaponSheet.get(weapon.key),\n    ArtifactSheet.getAllData\n  ])\n  if (!characterSheet || !weaponSheet || !artifactSheetsData) return\n  const artifacts = (overrideArt ?? Object.values(character.equippedArtifacts).map(a => database._getArt(a))).filter(a => a) as ICachedArtifact[]\n  const data = [\n    ...artifacts.map(a => dataObjForArtifact(a, mainStatAssumptionLevel)),\n    dataObjForCharacter(character),\n    characterSheet.getData(character.elementKey),\n    dataObjForWeapon(weapon),\n    weaponSheet.data,\n    artifactSheetsData,\n    common, // NEED TO PUT THIS AT THE END\n    resonanceData,\n  ]\n  return { character, weapon, characterSheet, weaponSheet, data }\n}\n"],"names":["ArtifactCardPico","art","artifactObj","key","slotKey","artifactSheet","usePromise","setKey","ArtifactSheet","sx","display","flexDirection","height","width","pb","position","left","top","transform","opacity","component","src","Assets","mainStatKey","rarity","level","mainStatVal","levelVariant","Math","floor","max","element","allElementsWithPhy","ele","includes","color","sheet","className","slotIcons","maxWidth","maxHeight","m","lineHeight","pointerEvents","variant","bottom","right","placement","title","cacheValueString","KeyMap","disableInteractive","p","uncoloredEleIcons","StatIcon","ArtifactSetSlotTooltip","children","fallback","Suspense","name","artifactSlotIcon","getSlotName","BootstrapTooltip","styled","props","arrow","classes","popper","theme","tooltipClasses","palette","common","black","backgroundColor","WeaponFullCard","weaponId","weapon","useContext","DatabaseContext","database","_getWeapon","weaponSheet","WeaponSheet","UIData","useMemo","computeUIData","data","dataObjForWeapon","CardDark","Box","flexShrink","alignContent","img","mt","flexGrow","Typography","gutterBottom","gap","SqBadge","hasRefinement","refinement","WeaponStat","node","get","input","info","val","valueString","value","unit","undefined","CharacterCard","characterKey","artifactChildren","weaponChildren","characterChildren","onClick","onClickHeader","footer","isTeammateCard","teamDataContext","DataContext","teamData","useTeamData","character","characterSheet","target","onClickHandler","useCallback","actionWrapperFunc","CardActionArea","characterDispatch","useCharacterReducer","dataContextObj","mainStatAssumptionLevel","Skeleton","minHeight","CardLight","zIndex","IconButton","event","favorite","Favorite","FavoriteBorder","ConditionalWrapper","condition","wrapper","Header","CardContent","Artifacts","Grid","container","columns","spacing","item","xs","WeaponCardPico","equippedWeapon","range","map","i","CharacterCardPico","team","index","Stats","characterEle","characterLevel","constellation","ascension","autoBoost","skillBoost","burstBoost","tAuto","tSkill","tBurst","content","backgroundImage","bannerImg","backgroundPosition","backgroundSize","lg","alignSelf","thumbImg","py","pr","Chip","label","size","flexWrap","textShadow","whiteSpace","ascensionMaxLevel","stars","colored","artifacts","allSlotKeys","k","_getArt","id","direction","Object","values","getDisplay","basic","n","alignItems","teammateSheet","CharacterSheet","useCharacter","elementKey","thumbImgSide","transformOrigin","justifyContent","cursor","icon","faQuestionCircle","FieldsDisplay","fields","FieldDisplayList","field","FieldDisplay","ListItem","oldData","canShow","isEmpty","oldNode","oldValue","NodeFieldDisplay","suffix","textSuffix","BasicFieldDisplay","v","evalIfFunc","text","toFixed","fixed","fieldText","isTeamBuff","fieldFormulaText","formula","fieldVal","diff","formulaTextOverlay","Groups","List","borderRadius","shape","overflow","margin","contentDark","main","contentDarker","tooltipAddl","WeaponStatPico","addlText","WeaponNameTooltip","weaponType","artifactSheets","then","imp","default","tr","strKey","ns","key18","allData","as","mergeData","s","getSlotDesc","setEffectDesc","setNum","setEffectDocument","setEffects","document","hasEnough","this","slots","defIconSrc","fontSize","icons","set","a","sheets","grouped","entries","forEach","push","artifactSetEffect","setNums","keys","parseInt","filter","sn","length","setHeaderTemplate","flower","circlet","action","st","description","pcNodes","objectKeyValueMap","e","greaterEq","sum","min","tally","percent","protectiveCanopy","desc","allElements","sections","teamBuff","ffNode","ferventFlames","swNode","soothingWaters","condSIPath","condSI","condReadNode","siNode","equal","shatteringIce","path","header","states","on","highVoltage","iwNodeStam","iwNodeMove","iwNodeCD","impetuousWinds","condERPath","condER","erNodeshield_","erNodeDMG_","erNodeRes_","resonanceSheets","sgt","resonanceData","inferInfoMut","premod","atk_","incHeal_","staminaDec_","moveSPD_","cdRed_","shield_","all_dmg_","geo_enemyRes_","total","critRate_","weaponSheets","weaponData","passiveDescription","refineIndex","iconAwaken","milestoneLevels","lowRarityMilestoneLevels","ambiguousLevel","ambiguousLevelLow","weaponKey","w","getWeaponsOfType","fromEntries","getLevelString","headerTemplate","imgAwaken","createContext","useCharSelectionCallback","navigate","useNavigate","useMatch","end","params","tab","cb","_getChar","navTab","newChar","hitMode","reactionMode","equippedArtifacts","objectKeyMap","conditional","bonusStats","enemyOverride","buildSettings","initialBuildSettings","talent","auto","skill","burst","infusionAura","compareData","updateChar","defaultInitialWeapon","weaponTypeKey","createWeapon","setWeaponLocation","useState","updateCharacter","useEffect","followChar","type","statKey","deepClone","newCharKey","charKey","oldCharKey","oldChar","t","tChar","c","tind","_","overrideArt","overrideWeapon","useForceUpdate","dbDirty","setDbDirty","teamDataBundle","getTeamData","teamBundle","followAnyArt","t1","t2","t3","t4","calcData","uiDataForTeam","objectMap","obj","ck","rest","getCharDataBundle","char1DataBundle","Promise","all","databundle","artifactSheetsData","dataObjForArtifact","dataObjForCharacter","getData"],"sourceRoot":""}