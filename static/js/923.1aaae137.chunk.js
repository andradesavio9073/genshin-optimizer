"use strict";(self.webpackChunkgenshin_optimizer=self.webpackChunkgenshin_optimizer||[]).push([[923],{44361:function(e,n,i){i.d(n,{Z:function(){return k}});var t=i(93433),s=i(29439),r=i(39504),l=i(61889),o=i(94721),c=i(66647),a=i(68870),d=i(20890),u=i(72791),x=i(2191),Z=i(42320),p=i(24351),h=i(66218),f=i(3992),j=i(71310),v=i(68198),m=i(55942),g=i(9321),y=i(10157),w=i(73578),C=i(80184);function k(e){var n=e.show,i=e.ascension,k=void 0===i?0:i,b=e.onHide,P=e.onSelect,S=e.filter,T=void 0===S?function(){return!0}:S,W=e.weaponFilter,L=(0,Z.Z)(h.Z.getAll,[]),I=(0,u.useState)(W?[W]:(0,t.Z)(p.yd)),J=(0,s.Z)(I,2),R=J[0],D=J[1];(0,u.useEffect)((function(){return W&&D([W])}),[W]);var G=L?(0,t.Z)(new Set(p.fG)).filter((function(e){return T(L[e])})).filter((function(e){var n;return R.includes(null===L||void 0===L||null===(n=L[e])||void 0===n?void 0:n.weaponType)})).sort((function(e,n){var i,t,s,r;return(null!==(i=null===L||void 0===L||null===(t=L[n])||void 0===t?void 0:t.rarity)&&void 0!==i?i:0)-(null!==(s=null===L||void 0===L||null===(r=L[e])||void 0===r?void 0:r.rarity)&&void 0!==s?s:0)})):[];return L?(0,C.jsx)(g.Z,{open:n,onClose:b,children:(0,C.jsxs)(f.Z,{children:[(0,C.jsx)(r.Z,{sx:{py:1},children:(0,C.jsxs)(l.ZP,{container:!0,children:[(0,C.jsx)(l.ZP,{item:!0,flexGrow:1,children:(0,C.jsx)(w.Z,{value:R,onChange:D,disabled:!!W,size:"small"})}),(0,C.jsx)(l.ZP,{item:!0,children:(0,C.jsx)(v.Z,{onClick:b})})]})}),(0,C.jsx)(o.Z,{}),(0,C.jsx)(r.Z,{children:(0,C.jsx)(l.ZP,{container:!0,spacing:1,children:G.map((function(e){var n,i=L[e];return(0,C.jsx)(l.ZP,{item:!0,lg:3,md:4,children:(0,C.jsx)(j.Z,{sx:{height:"100%"},children:(0,C.jsxs)(c.Z,{onClick:function(){b(),P(e)},sx:{display:"flex"},children:[(0,C.jsx)(a.Z,{component:"img",src:i.getImg(k),sx:{width:100,height:"auto"},className:" grad-".concat(i.rarity,"star")}),(0,C.jsxs)(a.Z,{sx:{flexGrow:1,px:1},children:[(0,C.jsx)(d.Z,{variant:"subtitle1",children:i.name}),(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(m.Z,{src:null===(n=x.Z.weaponTypes)||void 0===n?void 0:n[i.weaponType]})," ",(0,C.jsx)(y.t,{stars:i.rarity,colored:!0})]})]})]})})},e)}))})}),(0,C.jsx)(o.Z,{}),(0,C.jsx)(r.Z,{sx:{py:1},children:(0,C.jsx)(v.Z,{large:!0,onClick:b})})]})}):null}},74476:function(e,n,i){i.r(n),i.d(n,{default:function(){return F}});var t=i(93433),s=i(29439),r=i(40117),l=i(62002),o=i(63204),c=i(39504),a=i(61889),d=i(68870),u=i(20890),x=i(2199),Z=i(24518),p=i(23786),h=i(94721),f=i(9585),j=i(15021),v=i(72791),m=i(22020),g=i(3992),y=i(71310),w=i(31038),C=i(68198),k=i(10600),b=i(37503),P=i(33890),S=i(88034),T=i(9321),W=i(10157),L=i(44361),I=i(947),J=i(2139),R=i(66218),D=i(56928),G=i(2693),z=i(26138),A=i(73036),N=i(42320),E=i(74480),K=i(60393),B=i(80184);function F(e){var n,i=e.weaponId,F=e.footer,H=void 0!==F&&F,M=e.onClose,_=e.extraButtons,U=(0,m.$)("ui").t,X=(0,v.useContext)(G.R).data,$=(0,v.useContext)(D.t).database,q=(0,E.Z)(i),O=null!==q&&void 0!==q?q:{},Q=O.key,V=void 0===Q?"":Q,Y=O.level,ee=void 0===Y?0:Y,ne=O.refinement,ie=void 0===ne?0:ne,te=O.ascension,se=void 0===te?0:te,re=O.lock,le=O.location,oe=void 0===le?"":le,ce=O.id,ae=(0,N.Z)(R.Z.get(V),[V]),de=(0,v.useCallback)((function(e){$.updateWeapon(e,i)}),[i,$]),ue=(0,v.useCallback)((function(e){e=(0,K.uZ)(e,1,90);var n=J.SJ.findIndex((function(n){return e<=n}));de({level:e,ascension:n})}),[de]),xe=(0,v.useCallback)((function(){var e=J.SJ.findIndex((function(e){return 90!==ee&&ee===e}));de(se===e?{ascension:se+1}:{ascension:e})}),[de,se,ee]),Ze=(0,N.Z)(oe?I.Z.get(oe):void 0,[oe]),pe=Ze?function(e){return e.weaponType===Ze.weaponTypeKey}:void 0,he=Ze&&Ze.weaponTypeKey,fe=(0,v.useCallback)((function(e){return ce&&$.setWeaponLocation(ce,e)}),[$,ce]),je=(0,v.useCallback)((function(e){return e.weaponTypeKey===(null===ae||void 0===ae?void 0:ae.weaponType)}),[ae]),ve=(0,v.useState)(!1),me=(0,s.Z)(ve,2),ge=me[0],ye=me[1],we=null===ae||void 0===ae?void 0:ae.getImg(se);(0,v.useEffect)((function(){if(ae&&de&&ae.key===(null===q||void 0===q?void 0:q.key)&&ae.rarity<=2&&(ee>70||se>4)){var e=(0,s.Z)(J.Xu[0],2),n=e[0],i=e[1];de({level:n,ascension:i})}}),[ae,q,de,ee,se]);var Ce=(0,v.useMemo)((function(){return ae&&q&&(0,A.mP)([ae.data,(0,A.v0)(q)])}),[ae,q]);return(0,B.jsx)(T.Z,{open:!!i,onClose:M,containerProps:{maxWidth:"md"},children:(0,B.jsxs)(y.Z,{children:[(0,B.jsx)(L.Z,{ascension:se,show:ge,onHide:function(){return ye(!1)},onSelect:function(e){return de({key:e})},filter:pe,weaponFilter:he}),(0,B.jsx)(c.Z,{children:ae&&Ce&&(0,B.jsxs)(a.ZP,{container:!0,spacing:1.5,children:[(0,B.jsx)(a.ZP,{item:!0,xs:12,sm:3,children:(0,B.jsxs)(a.ZP,{container:!0,spacing:1.5,children:[(0,B.jsx)(a.ZP,{item:!0,xs:6,sm:12,children:(0,B.jsx)(d.Z,{component:"img",src:we,className:"grad-".concat(ae.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,B.jsx)(a.ZP,{item:!0,xs:6,sm:12,children:(0,B.jsx)(u.Z,{children:(0,B.jsx)("small",{children:ae.description})})})]})}),(0,B.jsxs)(a.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,B.jsx)(d.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,B.jsxs)(x.Z,{children:[(0,B.jsx)(Z.Z,{onClick:function(){return ye(!0)},children:null!==(n=null===ae||void 0===ae?void 0:ae.name)&&void 0!==n?n:"Select a Weapon"}),(null===ae||void 0===ae?void 0:ae.hasRefinement)&&(0,B.jsxs)(P.Z,{title:"Refinement ".concat(ie),children:[(0,B.jsx)(p.Z,{children:"Select Weapon Refinement"}),(0,B.jsx)(h.Z,{}),(0,t.Z)(Array(5).keys()).map((function(e){return(0,B.jsx)(p.Z,{onClick:function(){return de({refinement:e+1})},selected:ie===e+1,disabled:ie===e+1,children:"Refinement ".concat(e+1)},e)}))]}),_]})}),(0,B.jsxs)(d.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[(0,B.jsxs)(x.Z,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[(0,B.jsx)(k.CC,{children:(0,B.jsx)(k.ZP,{onChange:ue,value:ee,startAdornment:"Lv. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),ae&&(0,B.jsx)(Z.Z,{sx:{pl:1},disabled:!ae.ambiguousLevel(ee),onClick:xe,children:(0,B.jsxs)("strong",{children:["/ ",J.SJ[se]]})}),ae&&(0,B.jsx)(P.Z,{title:"Select Level",children:ae.milestoneLevels.map((function(e){var n=(0,s.Z)(e,2),i=n[0],t=n[1],r=i===J.SJ[t]?"Lv. ".concat(i):"Lv. ".concat(i,"/").concat(J.SJ[t]),l=i===ee&&t===se;return(0,B.jsx)(p.Z,{selected:l,disabled:l,onClick:function(){return de({level:i,ascension:t})},children:r},"".concat(i,"/").concat(t))}))})]}),(0,B.jsx)(Z.Z,{color:"error",onClick:function(){return ce&&$.updateWeapon({lock:!re},ce)},startIcon:re?(0,B.jsx)(r.Z,{}):(0,B.jsx)(l.Z,{}),children:re?"Locked":"Unlocked"})]}),(0,B.jsx)(u.Z,{children:(0,B.jsx)(W.t,{stars:ae.rarity})}),(0,B.jsx)(u.Z,{variant:"subtitle1",children:(0,B.jsx)("strong",{children:ae.passiveName})}),(0,B.jsx)(u.Z,{gutterBottom:!0,children:ae.passiveName&&ae.passiveDescription(Ce.get(z.ri.weapon.refineIndex).value)}),(0,B.jsxs)(d.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,B.jsxs)(g.Z,{children:[(0,B.jsx)(f.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,B.jsx)(h.Z,{}),(0,B.jsx)(S.lD,{children:[z.ri.weapon.main,z.ri.weapon.sub,z.ri.weapon.sub2].map((function(e,n){var i=Ce.get(e);return i.isEmpty||!i.value?null:(0,B.jsx)(S.JW,{node:i,component:j.ZP},i.info.key)}))})]}),X&&ae.document&&(0,B.jsx)(b.Z,{sections:ae.document})]})]})]})}),H&&ce&&(0,B.jsx)(c.Z,{sx:{py:1},children:(0,B.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,B.jsx)(a.ZP,{item:!0,flexGrow:1,children:(0,B.jsx)(w.Z,{showDefault:!0,size:"small",defaultIcon:(0,B.jsx)(o.Z,{}),defaultText:U("inventory"),value:oe,onChange:fe,filter:je,disable:function(e){return""===e},disableClearable:!0})}),(0,B.jsx)(a.ZP,{item:!0,flexGrow:2}),!!M&&(0,B.jsx)(a.ZP,{item:!0,children:(0,B.jsx)(C.Z,{sx:{height:"100%"},large:!0,onClick:M})})]})})]})})}}}]);
//# sourceMappingURL=923.1aaae137.chunk.js.map